# Software Design Document (SDD)
# éˆé–£ (LÃ­ng GÃ©)

> **æœ€å¾Œæ›´æ–°**: 2026-01-30
> **ç‰ˆæœ¬**: 3.0.0

---

## 1. å°ˆæ¡ˆæ¦‚è¿°

### 1.1 å°ˆæ¡ˆåç¨±èˆ‡æ ¸å¿ƒå®šä½

**éˆé–£ (LÃ­ng GÃ©)**

> *ã€Œå€Ÿä»–å±±ä¹‹çŸ³ï¼Œæ”»ä½ å¿ƒä¸­ç‰ã€*
>
> *â€” å¤è˜¿è””éŠæˆ² Global-soft Games*

é€é MCP å”è­°æä¾› **700+ è·¨é ˜åŸŸç†è«–æ··æ­** çš„æ€ç¶­å¢å¼·æœå‹™ã€‚

#### æ ¸å¿ƒç©æ³•ï¼šè¤‡åˆç†è«–æ··æ­

éˆé–£ä¸æ˜¯ã€Œæ‰¾å°ˆå®¶å•ç­”æ¡ˆã€ï¼Œè€Œæ˜¯ã€Œç”¨ A é ˜åŸŸçš„æ–¹æ³•è§£ B é ˜åŸŸçš„é¡Œã€ã€‚

**è·¨ç•Œæ‰æœ‰ç«èŠ±ï¼š**

```
âŒ éŒ¯èª¤ç†è§£ï¼šã€Œæˆ‘è¦æ‰¾å‰ç«¯å°ˆå®¶å¹«æˆ‘å¯« Reactã€
                â†’ é€™åªæ˜¯æ™®é€šçš„æŠ€è¡“è«®è©¢

âœ… æ­£ç¢ºç©æ³•ï¼ˆè·¨ç•Œæ··æ­å¯¦ä¾‹ï¼‰ï¼š

1. ã€Œæ•æ·é–‹ç™¼ã€Ã— å©šç¦®è¦åŠƒ
   â†’ Sprint è¿­ä»£ã€MVP æ€ç¶­ã€æŒçºŒäº¤ä»˜ï¼Œè®“ç±Œå‚™å©šç¦®ä¸å†å¤±æ§

2. ã€Œæ–¹æ³•æ¼”æŠ€ã€Ã— ç”¢å“è¨­è¨ˆ
   â†’ æƒ…æ„Ÿè¨˜æ†¶ã€è§’è‰²æ²‰æµ¸ã€æ„Ÿå®˜å›æ†¶ï¼Œè¨­è¨ˆå‡ºçœŸæ­£æ‰“å‹•äººå¿ƒçš„é«”é©—

3. ã€ŒéŠæˆ²è¨­è¨ˆã€Ã— åœ˜éšŠæ¿€å‹µ
   â†’ æˆå°±ç³»çµ±ã€é€²åº¦å›é¥‹ã€éš¨æ©Ÿçå‹µï¼ŒæŠŠæ¯ç‡¥çš„ KPI è®Šæˆç ´é—œå‹•åŠ›

4. ã€Œé¦¬æ–¯å…‹ç¬¬ä¸€æ€§åŸç†ã€Ã— å¿ƒç†å­¸ Ã— éŠæˆ²é–‹ç™¼
   â†’ æ‹†è§£ç©å®¶å‹•æ©Ÿçš„æœ¬è³ªã€å¿ƒç†çå‹µæ©Ÿåˆ¶ã€å¾é›¶é‡æ§‹éŠæˆ²å¾ªç’°

5. ã€Œå»ºç¯‰çµæ§‹å­¸ã€Ã— åœ˜éšŠçµ„ç¹”
   â†’ æ‰¿é‡ç‰†æ¦‚å¿µåˆ†é…æ ¸å¿ƒè·è²¬ã€æ¨¡çµ„åŒ–è¨­è¨ˆé¿å…å–®é»æ•…éšœ

6. ã€Œç‰©ç†å­¸ã€Ã— å°ˆæ¡ˆç®¡ç†
   â†’ æ…£æ€§å®šå¾‹ç†è§£è®Šé©é˜»åŠ›ã€åŠ›çŸ©åŸç†åˆ†é…è³‡æºæ§“æ¡¿é»
```

**700+ ç†è«– Ã— è·¨ç•Œæ··æ­ = 489,300+ ç¨®çµ„åˆ**

- ä¸æ˜¯æ‰¾ç­”æ¡ˆï¼Œæ˜¯æ‰¾**æ–°è¦–è§’**
- è·³å‡ºåŸæœ¬çš„**æ€è€ƒæ¡†æ¶**
- ç”¨æ„æƒ³ä¸åˆ°çš„è§’åº¦**é‡æ–°å¯©è¦–**å•é¡Œ

**é€™æ‰æ˜¯éˆé–£çš„æ­£ç¢ºæ‰“é–‹æ–¹å¼ã€‚**

### 1.2 é¡˜æ™¯èˆ‡èƒŒæ™¯

#### æ ¸å¿ƒæ´å¯Ÿï¼šæ€ç¶­è§€å¿µçš„åƒ¹å€¼

AI èƒ½åŠ›å†å¼·ï¼Œä¹Ÿåªæ˜¯å·¥å…·ã€‚çœŸæ­£çš„å·®ç•°åŒ–ä¾†è‡ªæ–¼ï¼š**ç”¨ä»€éº¼æ€ç¶­æ–¹å¼ä½¿ç”¨ AI**ã€‚

```
åŒæ¨£å• AIã€Œå¹«æˆ‘è¨­è¨ˆç™»å…¥é é¢ã€ï¼š

æ™®é€šç”¨æˆ¶çš„å›æ‡‰              â†  ç›´æ¥å•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
é€šç”¨çš„è¨­è¨ˆå»ºè­°
æ¨™æº–çš„ UI å…ƒä»¶
æ²’æœ‰æ·±åº¦çš„å›ç­”

æ³¨å…¥å°ˆå®¶æ€ç¶­å¾Œçš„å›æ‡‰        â†  Fitts's Law + èªçŸ¥è² è·ç†è«– + å®Œå½¢å¿ƒç†å­¸
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æŒ‰éˆ•å¤§å°ç¬¦åˆ Fitts's Lawï¼ˆè§¸æ§ç›®æ¨™ 44Ã—44pxï¼‰
èªçŸ¥è² è·åˆ†æï¼šæ¸›å°‘è¡¨å–®æ¬„ä½åˆ°å¿…è¦é …ç›®
è¦–è¦ºç¾¤çµ„éµå¾ª Gestalt æ¥è¿‘åŸå‰‡
å°ˆæ¥­ç´šçš„è¨­è¨ˆæ±ºç­–ä¾æ“š
```

**é€™å°±æ˜¯éˆé–£çš„åƒ¹å€¼ï¼šè®“æ¯å€‹äººéƒ½èƒ½ç”¨å°ˆå®¶çš„æ€ç¶­æ–¹å¼ä¾†ä½¿ç”¨ AIã€‚**

#### è¶…ç´šå€‹é«”æ™‚ä»£

æˆ‘å€‘æ­£ç«™åœ¨ä¸€å€‹åŠƒæ™‚ä»£çš„è½‰æŠ˜é»ï¼š**è¶…ç´šå€‹é«”æ™‚ä»£**å³å°‡éåœ°é–‹èŠ±ã€‚

```
éå»                          ç¾åœ¨                         æœªä¾†
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å€‹äººèƒ½åŠ›æœ‰é™               AI è¼”åŠ©å¢å¼·                 è¶…ç´šå€‹é«”
éœ€è¦åœ˜éšŠåˆ†å·¥               ä¸€äººå¯ç•¶åäººç”¨              ä¸€äººå³å…¬å¸
å°ˆæ¥­éœ€è¦å¤šå¹´ç´¯ç©           AI è£œè¶³å°ˆæ¥­ç¼ºå£             äººäººçš†æ™ºéˆ
```

åœ¨é€™å€‹æ™‚ä»£ï¼š
- ä¸€å€‹äºº + AI = éå»ä¸€å€‹åœ˜éšŠçš„ç”¢å‡º
- å°ˆæ¥­çŸ¥è­˜ä¸å†æ˜¯é–€æª»ï¼Œè€Œæ˜¯**éš¨é¸å³ç”¨çš„è³‡æº**
- æ¯å€‹äººéƒ½èƒ½æˆç‚ºã€Œè¶…ç´šå€‹é«”ã€ï¼Œå‰µé€ éå»é›£ä»¥æƒ³åƒçš„åƒ¹å€¼

#### ç‚ºä»€éº¼éœ€è¦éˆé–£ï¼Ÿ

ç•¶ AI Agent æˆç‚ºè¶…ç´šå€‹é«”çš„ã€Œéˆé­‚å¤¥ä¼´ã€ï¼Œå•é¡Œä¾†äº†ï¼š

```
â“ å°ˆå®¶çš„æ€ç¶­æ–¹å¼å¾å“ªè£¡ä¾†ï¼Ÿ
â“ å¦‚ä½•æŠŠé€™äº›å°ˆæ¥­è§€å¿µæ³¨å…¥çµ¦ AIï¼Ÿ
â“ æ€éº¼è®“ç”¨æˆ¶ç”¨ç™½è©±å•ï¼Œå»å¾—åˆ°å°ˆæ¥­ç­”æ¡ˆï¼Ÿ
â“ å¦‚ä½•è®“å‰µä½œè€…åˆ†äº«è‡ªå·±çš„å°ˆæ¥­æ€ç¶­æ¡†æ¶ï¼Ÿ
```

**éˆé–£å°±æ˜¯ç­”æ¡ˆã€‚**

é€™æ˜¯ä¸€åº§ **å°ˆå®¶æ€ç¶­å¯¶åº«**ï¼š
- ğŸ§  æ”¶è—å„é ˜åŸŸå°ˆå®¶çš„ã€Œæ€ç¶­æ¡†æ¶ã€èˆ‡ã€Œå°ˆæ¥­è§€å¿µã€
- ğŸŒ é–‹æ”¾å‰µä½œè€…ä¸Šå‚³ï¼Œè®“æ™ºæ…§å…±äº«ï¼ˆæ­Œå–®ç¶“æ¿Ÿï¼‰
- ğŸ¯ èªæ„åŒ¹é…ï¼šç”¨æˆ¶èªªç™½è©±ï¼Œç³»çµ±æ‰¾å°æ‡‰å°ˆæ¥­è§€å¿µ
- ğŸ’« è§€å¿µæ³¨å…¥ï¼šè‡ªå‹•ç”¨å°ˆæ¥­è¡“èªå¼·åŒ– AI å›æ‡‰

#### ç›®æ¨™ç”¨æˆ¶

| ç¶­åº¦ | è¨­å®š | åŸå›  |
|------|------|------|
| **TA** | All | è¶…ç´šå€‹é«”æ™‚ä»£ï¼Œäººäººéƒ½éœ€è¦ AI å¤¥ä¼´ |
| **å¹´é½¡** | All | å¾å­¸ç”Ÿåˆ°é•·è€…ï¼ŒAI ä¸åˆ†å¹´é½¡ |
| **èƒŒæ™¯** | All | å·¥ç¨‹å¸«ã€è¨­è¨ˆå¸«ã€å‰µæ¥­è€…ã€ä»»ä½•äºº |

é€™ä¸æ˜¯çµ¦ç‰¹å®šæ—ç¾¤çš„å·¥å…·ï¼Œè€Œæ˜¯çµ¦**é€™å€‹æ™‚ä»£æ‰€æœ‰äºº**çš„åŸºç¤è¨­æ–½ã€‚

#### æ™‚ä»£çš„å¿…ç„¶

é€™å€‹é¡˜æ™¯è½èµ·ä¾†å‰è¡›ï¼Œä½†å®ƒä¸æ˜¯é™é çš„æœªä¾†â€”â€”**å®ƒæ­£åœ¨ç™¼ç”Ÿ**ã€‚

- Claude Code è®“é–‹ç™¼è€…æ•ˆç‡å€å¢
- AI è®“éå°ˆæ¥­è€…ä¹Ÿèƒ½å®Œæˆå°ˆæ¥­ä»»å‹™
- è¶…ç´šå€‹é«”æ­£åœ¨å„è¡Œå„æ¥­å´›èµ·

éˆé–£ä¸æ˜¯å‰µé€ è¶¨å‹¢ï¼Œè€Œæ˜¯**ç‚ºå¿…ç„¶åˆ°ä¾†çš„æ™‚ä»£å»ºç«‹åŸºç¤è¨­æ–½**ã€‚

### 1.3 å°ˆæ¡ˆç›®æ¨™
å»ºç«‹ä¸€å€‹ä»¥ MCP (Model Context Protocol) ç‚ºåŸºç¤çš„å°ˆå®¶æ€ç¶­åˆ†ç™¼å¹³å°ã€‚æ ¸å¿ƒæ©Ÿåˆ¶æ˜¯ã€Œè§€å¿µæ³¨å…¥ã€ï¼šå°‡ç”¨æˆ¶çš„ç™½è©±å•é¡Œï¼Œé€éèªæ„åŒ¹é…æ‰¾åˆ°å°æ‡‰çš„å°ˆæ¥­æ¦‚å¿µï¼Œè‡ªå‹•å¢å¼· AI çš„å›æ‡‰æ·±åº¦ã€‚

### 1.4 æ ¸å¿ƒåƒ¹å€¼
- ğŸ§  **è§€å¿µæ³¨å…¥**ï¼šç”¨æˆ¶èªªç™½è©±ï¼ŒAI ç”¨å°ˆæ¥­è¡“èªå›æ‡‰
- ğŸ”Œ **MCP æ•´åˆ**ï¼šAI åŠ©æ‰‹å¯é€é MCP å”è­°æŸ¥è©¢ã€å¬å–šæ™ºéˆ
- ğŸ“š **å°ˆå®¶æ€ç¶­åº«**ï¼šæ”¶è—å„é ˜åŸŸçš„ç†è«–æ¡†æ¶èˆ‡å°ˆæ¥­çŸ¥è­˜
- ğŸ¯ **èªæ„åŒ¹é…**ï¼šè‡ªå‹•å°‡æ¨¡ç³Šæè¿°è½‰æ›ç‚ºå°ˆæ¥­æ¦‚å¿µ
- ğŸŒ **å¤šå¹³å°æ”¯æ´**ï¼šæ”¯æ´ Claude Codeã€ChatGPTã€Gemini ç­‰ï¼ˆOAuth èªè­‰ï¼‰
- ğŸ‘¥ **å‰µä½œè€…ç”Ÿæ…‹**ï¼šé–‹æ”¾å‰µä½œè€…ä¸Šå‚³æ€ç¶­æ¡†æ¶ï¼Œå¸‚å ´æ±ºå®šåƒ¹å€¼ï¼ˆæ­Œå–®ç¶“æ¿Ÿæ¨¡å¼ï¼‰

---

## 2. ç³»çµ±æ¶æ§‹

### 2.1 æ•´é«”æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Client Layer                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Web Client    â”‚  â”‚   Author        â”‚  â”‚   Web Admin                 â”‚  â”‚
â”‚  â”‚   (Port 3000)   â”‚  â”‚   Dashboard     â”‚  â”‚   (Port 3300)               â”‚  â”‚
â”‚  â”‚   ä½¿ç”¨è€…å‰ç«¯     â”‚  â”‚   (web-client)  â”‚  â”‚   ç®¡ç†å¾Œå°å‰ç«¯ï¼ˆéœæ…‹ï¼‰        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                    â”‚                          â”‚                  â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          Service Layer                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚   API Server (Port 3100)          â”‚  â”‚   MCP Server            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                   â”‚  â”‚   (Port 3200)           â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ ç”¨æˆ¶èªè­‰         â€¢ Admin API   â”‚  â”‚                         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ è¨ˆè²»ç³»çµ±         â€¢ å¹³å°çµ±è¨ˆ     â”‚  â”‚  â€¢ MCP HTTP/SSE         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ é¡åº¦ç®¡ç†         â€¢ ç”¨æˆ¶ç®¡ç†     â”‚  â”‚  â€¢ list_agents          â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Author åˆ†æ½¤     â€¢ ä½œè€…ç®¡ç†     â”‚  â”‚  â€¢ get_agent            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Agent ä¸Šå‚³      â€¢ äº¤æ˜“ç´€éŒ„     â”‚  â”‚  â€¢ summon_agent         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ PayPal é‡‘æµ     â€¢ åˆ†æ½¤å ±è¡¨     â”‚  â”‚  â€¢ recommend            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                   â”‚  â”‚  â€¢ get_preset           â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                   â”‚                                   â”‚                â”‚  â”‚
â”‚  â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            Data Layer                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                         MongoDB (ling-ge)                            â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚   users     â”‚  â”‚   apiKeys   â”‚  â”‚   transactions              â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  ç”¨æˆ¶å¸³è™Ÿ    â”‚  â”‚  API é‡‘é‘°   â”‚  â”‚  äº¤æ˜“ç´€éŒ„                    â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚ authorEarningsâ”‚ â”‚uploadedAgentsâ”‚ â”‚   summonLogs               â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  ä½œè€…æ”¶ç›Š     â”‚  â”‚  ä¸Šå‚³çš„æ™ºéˆ  â”‚  â”‚  å¬å–šç´€éŒ„                   â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                         File System                                  â”‚    â”‚
â”‚  â”‚  agents/                                                             â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ thinking/         (æ€ç¶­/ç†è«–å‹ Agent)                           â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ frontend/         (å‰ç«¯ç›¸é—œ Agent)                              â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ backend/          (å¾Œç«¯ç›¸é—œ Agent)                              â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ game-dev/         (éŠæˆ²é–‹ç™¼ Agent)                              â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ industrial/       (å·¥æ¥­/ç³»çµ± Agent)                             â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€ firmware/         (éŸŒé«”/åµŒå…¥å¼ Agent)                           â”‚    â”‚
â”‚  â”‚  â””â”€â”€ quality/          (å“è³ªä¿è­‰ Agent)                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.1.1 æœå‹™èªªæ˜

| æœå‹™ | Port | èªªæ˜ |
|------|------|------|
| **Web Client** | 3000 | ä½¿ç”¨è€…å‰ç«¯ï¼šAgent ç€è¦½ã€Author Dashboard |
| **API Server** | 3100 | æ ¸å¿ƒæ¥­å‹™é‚è¼¯ + Admin APIï¼šç”¨æˆ¶èªè­‰ã€è¨ˆè²»ã€åˆ†æ½¤ã€ç®¡ç†å¾Œå° |
| **MCP Server** | 3200 | MCP å”è­°æœå‹™ï¼šä¾› Claude Code ç­‰ AI å·¥å…·ä½¿ç”¨ |
| **Web Admin** | 3300 | ç®¡ç†å¾Œå°å‰ç«¯ï¼ˆéœæ…‹ç¶²ç«™ï¼Œå‘¼å« API Server /admin/* ç«¯é»ï¼‰|

### 2.1.2 æ··åˆ Agent ä¾†æº

ç³»çµ±æ¡ç”¨æ··åˆ Agent æ¶æ§‹ï¼Œæ”¯æ´å…©ç¨®ä¾†æºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Agent ä¾†æº                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      æœ¬åœ°æª”æ¡ˆ (Official)       â”‚      MongoDB (User-uploaded)  â”‚
â”‚  agents/*.md                  â”‚  uploadedAgents Collection    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ 33 å€‹å®˜æ–¹æ™ºéˆ               â”‚  â€¢ ç”¨æˆ¶ä¸Šå‚³çš„æ™ºéˆ              â”‚
â”‚  â€¢ æª”æ¡ˆç³»çµ±è®€å–                â”‚  â€¢ è³‡æ–™åº«è®€å–                  â”‚
â”‚  â€¢ ç„¡ author æ¬„ä½ï¼ˆç³»çµ±å…§å»ºï¼‰   â”‚  â€¢ æœ‰ author æ¬„ä½             â”‚
â”‚  â€¢ ä¸è¨ˆå…¥åˆ†æ½¤                  â”‚  â€¢ æ¯æ¬¡å¬å–šè¨ˆç®—åˆ†æ½¤            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“ | ç”¨é€” |
|------|------|------|
| Frontend | Vanilla TypeScript | 2D åˆ—è¡¨ä»‹é¢ï¼ˆè¼•é‡åŒ–ï¼‰ |
| Frontend | Vite | é–‹ç™¼èˆ‡å»ºç½®å·¥å…· |
| Backend | Node.js + Express | API Serverï¼ˆå« Admin APIï¼‰|
| Backend | Node.js + MCP SDK | MCP Server (HTTP/SSE Transport) |
| Database | MongoDB | ç”¨æˆ¶ã€äº¤æ˜“ã€åˆ†æ½¤ã€ä¸Šå‚³ Agent |
| Auth | API Key | ç”¨æˆ¶é©—è­‰èˆ‡ç”¨é‡æ§åˆ¶ |
| Payment | PayPal API | å„²å€¼é‡‘æµï¼ˆSandbox/Liveï¼‰ |
| Storage | File System + MongoDB | å®˜æ–¹ Agent (æª”æ¡ˆ) + ç”¨æˆ¶ä¸Šå‚³ Agent (DB) |
| Deployment | **GCP Cloud Run** | æœå‹™éƒ¨ç½²ï¼ˆæŒ‰ç”¨é‡è¨ˆè²»ï¼‰ |

### 2.3 æ¶æ§‹æ±ºç­–è¨˜éŒ„ (ADR)

#### ADR-001: æ”¹ç”¨ 2D åˆ—è¡¨ä»‹é¢ï¼ˆ2024-12ï¼‰
- **æ±ºç­–**ï¼šæ”¾æ£„ Three.js 3D æ›¸æ¶ï¼Œæ”¹ç”¨ 2D å¡ç‰‡åˆ—è¡¨
- **åŸå› **ï¼š3D åº§æ¨™ç³»çµ±å•é¡Œè€—æ™‚éå¤šï¼Œ2D æ›´å¿«ä¸Šç·šé©—è­‰å¸‚å ´
- **å½±éŸ¿**ï¼šç§»é™¤ three.jsã€gsap ä¾è³´ï¼Œæ¸›å°‘æ‰“åŒ…é«”ç©

#### ADR-002: æ¡ç”¨é ç«¯ MCP Server æ¶æ§‹ï¼ˆ2024-12ï¼‰
- **æ±ºç­–**ï¼šMCP Server éƒ¨ç½²æ–¼é›²ç«¯ï¼Œç”¨æˆ¶é€é API Key å­˜å–
- **åŸå› **ï¼š
  1. ä¿è­· Agent æ™ºæ…§è²¡ç”¢ï¼ˆå…§å®¹ä¸å¤–æµï¼‰
  2. å¯è¿½è¹¤ç”¨é‡ã€æ§åˆ¶é¡åº¦
  3. éš¨æ™‚æ›´æ–° Agentï¼Œç”¨æˆ¶è‡ªå‹•ç²å¾—æœ€æ–°ç‰ˆ
  4. ä¾¿æ–¼å¯¦ä½œä»˜è²»æ©Ÿåˆ¶
- **æ¶æ§‹**ï¼š
  ```
  ç”¨æˆ¶ Claude Code â†’ é ç«¯ MCP Server (GCP) â†’ é©—è­‰ API Key â†’ å›å‚³ Agent
  ```

#### ADR-003: é¸æ“‡ GCP Cloud Run éƒ¨ç½²ï¼ˆ2024-12ï¼‰
- **æ±ºç­–**ï¼šä½¿ç”¨ GCP Cloud Run è€Œé AWS/Vercel
- **åŸå› **ï¼š
  1. å…è²»é¡åº¦é«˜ï¼ˆæ¯æœˆ 200 è¬æ¬¡è«‹æ±‚ï¼‰
  2. æ”¯æ´ HTTP/SSEï¼Œé©åˆ MCP å”è­°
  3. è‡ªå‹•æ“´å±•ï¼Œç„¡æµé‡æ™‚ä¸æ”¶è²»
  4. éƒ¨ç½²ç°¡å–®ï¼ˆDocker containerï¼‰

#### ADR-004: è‹±æ–‡å„ªå…ˆçš„åœ‹éš›åŒ–ç­–ç•¥ï¼ˆ2024-12ï¼‰
- **æ±ºç­–**ï¼šæ‰€æœ‰ç”¨æˆ¶é¢å‘çš„å…§å®¹ä»¥è‹±æ–‡ç‚ºä¸»è¦èªè¨€
- **åŸå› **ï¼š
  1. å®šä½ç‚ºåœ‹éš›ç´š AI å·¥å…·å¹³å°ï¼Œå¸å¼•å…¨çƒç”¨æˆ¶
  2. è‹±æ–‡ä»‹é¢æå‡å°ˆæ¥­æ„Ÿèˆ‡ä¿¡ä»»åº¦ï¼Œå¢åŠ ä»˜è²»æ„é¡˜
  3. AI/MCP ç”Ÿæ…‹ç³»ä»¥è‹±èªç‚ºä¸»æµ
  4. å¾ŒçºŒå¯åŠ å…¥å¤šèªè¨€æ”¯æ´ï¼ˆi18nï¼‰
- **å¯¦æ–½ç¯„åœ**ï¼š
  - Web ä»‹é¢ï¼šè‹±æ–‡ç‚ºä¸»ï¼ŒAgent åç¨±ä¿ç•™é›™èª
  - API å›æ‡‰ï¼šå…¨è‹±æ–‡
  - Agent å…§å®¹ï¼šè‹±æ–‡ system prompt
  - éŒ¯èª¤è¨Šæ¯ï¼šè‹±æ–‡
  - æ–‡ä»¶ï¼šè‹±æ–‡ï¼ˆREADMEã€API docsï¼‰
- **ä¿ç•™ä¸­æ–‡**ï¼š
  - å…§éƒ¨é–‹ç™¼æ–‡ä»¶ï¼ˆSDDï¼‰
  - ç¨‹å¼ç¢¼è¨»è§£ï¼ˆåœ˜éšŠæºé€šï¼‰
  - å°ç£å¸‚å ´ç‰¹å®šè¡ŒéŠ·ç´ æ

---

## 3. MCP Server è¨­è¨ˆ

### 3.1 æ ¸å¿ƒæµç¨‹ï¼šè§€å¿µæ³¨å…¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            è§€å¿µæ³¨å…¥æµç¨‹                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   ç”¨æˆ¶ï¼šã€Œä»‹é¢å¾ˆäº‚ï¼Œä¸çŸ¥é“æ€éº¼æ”¹ã€                                             â”‚
â”‚          â”‚                                                                   â”‚
â”‚          â–¼                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â”‚
â”‚   â”‚    ask     â”‚  åˆ†æå•é¡Œï¼Œæ¨è–¦ 5 å€‹å€™é¸æ™ºéˆ                                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                            â”‚
â”‚         â”‚ è¿”å›å€™é¸ï¼šUI Psychology Expert, Color Design Expert, ...            â”‚
â”‚         â–¼                                                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚   â”‚  summon_agent  â”‚  AI é¸æ“‡æœ€é©åˆçš„æ™ºéˆï¼Œå‚³å…¥ user_query                    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚  è§€å¿µæ³¨å…¥çµæœ (concept_injection)                                    â”‚    â”‚
â”‚   â”‚                                                                     â”‚    â”‚
â”‚   â”‚  enriched_context:                                                  â”‚    â”‚
â”‚   â”‚    ã€Œä»‹é¢å¾ˆäº‚ã€â†’ èªçŸ¥è² è·éé«˜ã€é•å Gestalt æ¥è¿‘åŸå‰‡                    â”‚    â”‚
â”‚   â”‚                                                                     â”‚    â”‚
â”‚   â”‚  applied_theories:                                                  â”‚    â”‚
â”‚   â”‚    - èªçŸ¥è² è·ç†è«– Cognitive Load Theory                               â”‚    â”‚
â”‚   â”‚    - å®Œå½¢å¿ƒç†å­¸ Gestalt Psychology                                    â”‚    â”‚
â”‚   â”‚    - Miller's Law (7Â±2)                                             â”‚    â”‚
â”‚   â”‚                                                                     â”‚    â”‚
â”‚   â”‚  guidance:                                                          â”‚    â”‚
â”‚   â”‚    é‹ç”¨é€™äº›ç†è«–æ¡†æ¶åˆ†æä»‹é¢å•é¡Œï¼Œçµ¦å‡ºå°ˆæ¥­å»ºè­°                            â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚   AI ä»¥å°ˆæ¥­è¦–è§’å›ç­”ï¼š                                                         â”‚
â”‚   ã€Œæ ¹æ“šèªçŸ¥è² è·ç†è«–ï¼Œä½ çš„ä»‹é¢å•é¡Œå¯èƒ½æ˜¯å¤–éƒ¨èªçŸ¥è² è·éé«˜...                     â”‚
â”‚    å»ºè­°ç”¨ Gestalt æ¥è¿‘åŸå‰‡é‡æ–°åˆ†çµ„ï¼Œå°‡ç›¸é—œå…ƒç´ æ”¾åœ¨ä¸€èµ·...                       â”‚
â”‚    æ ¹æ“š Miller's Lawï¼Œå°èˆªé …ç›®æ§åˆ¶åœ¨ 5-7 å€‹ä»¥å…§...ã€                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 MCP å·¥å…·å®šç¾©

```typescript
// MCP Server Tools v2.1.0
interface MCPTools {
  // ============================================
  // ä¸»å…¥å£å·¥å…·
  // ============================================

  // ask - ä¸»è¦å…¥å£ï¼ˆæ¨è–¦å€™é¸ï¼Œä¸æ‰£æ¬¾ï¼‰
  ask: {
    params: {
      question: string;  // ç”¨æˆ¶å•é¡Œï¼ˆå¦‚ã€Œä»‹é¢å¾ˆäº‚ã€ï¼‰
    };
    returns: {
      success: boolean;
      candidates: {
        id: string;
        name: string;
        description: string;
        category: string;
        relevance_score: number;
      }[];
      instruction: string;  // å‘Šè¨´ AI ä¸‹ä¸€æ­¥æ€éº¼åš
    };
  };

  // summon_agent - å¬å–šæ™ºéˆï¼ˆæ‰£æ¬¾ + è§€å¿µæ³¨å…¥ï¼‰
  summon_agent: {
    params: {
      agent_id: string;    // æ™ºéˆ ID
      user_query?: string; // ç”¨æˆ¶å•é¡Œï¼ˆå¯é¸ï¼Œç”¨æ–¼è§€å¿µæ³¨å…¥ï¼‰
    };
    returns: {
      success: boolean;
      system_prompt: string;
      concept_injection?: {
        user_query: string;
        enriched_context: string;  // å°ˆæ¥­è¡“èªè½‰æ›
        applied_theories: string[];
        interpretations: string[];
        guidance: string;
      };
      yuan: number;
      hun: number;
      mode: 'yuan' | 'hun';
    };
  };

  // ============================================
  // æŸ¥è©¢å·¥å…·
  // ============================================

  list_agents: {
    params: {
      category?: string;
      search?: string;
    };
    returns: Agent[];
  };

  get_agent: {
    params: { id: string; };
    returns: AgentDetail;
  };

  get_preset: {
    params: { preset_name: string; };
    returns: Agent[];
  };

  recommend_agents: {
    params: {
      query: string;
      limit?: number;  // é è¨­ 3
    };
    returns: Agent[];
  };

  // ============================================
  // è§€å¿µæ³¨å…¥å·¥å…·ï¼ˆé€²éšï¼‰
  // ============================================

  // get_tags - å–å¾—æ‰€æœ‰æ¨™ç±¤ï¼ˆä¾›èªæ„åŒ¹é…ï¼‰
  get_tags: {
    params: {};
    returns: {
      success: boolean;
      total: number;
      tags: {
        tag: string;      // å¦‚ã€Œå¿ƒæµç†è«–ã€
        agents: { id: string; name: string }[];
        category: 'theory' | 'keyword' | 'category';
      }[];
    };
  };

  // enhance - æ¨™ç±¤å¢å¼· prompt
  enhance: {
    params: {
      user_input: string;      // ç”¨æˆ¶å•é¡Œ
      matched_tags: string[];  // AI é¸å‡ºçš„ç›¸é—œæ¨™ç±¤
    };
    returns: {
      success: boolean;
      enhanced_prompt: string;
      matched_agent: { id: string; name: string; ... } | null;
      alternatives: { id: string; name: string; score: number }[];
    };
  };

  // ============================================
  // å¸³è™Ÿç®¡ç†å·¥å…·
  // ============================================

  get_balance: {
    params: {};
    returns: { yuan: number; hun: number; mode: 'yuan' | 'hun'; };
  };

  set_mode: {
    params: { mode: 'yuan' | 'hun'; };
    returns: { success: boolean; mode: string; };
  };

  get_usage_stats: {
    params: {};
    returns: {
      total_summons: number;
      by_agent: { agent_id: string; count: number }[];
      recent_summons: { agent_id: string; timestamp: string }[];
    };
  };
}
```

### 3.3 MCP Server å¯¦ä½œ

```typescript
// mcp-server/index.ts
import { Server } from "@modelcontextprotocol/sdk/server";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio";

const server = new Server({
  name: "ling-ge",
  version: "1.0.0",
}, {
  capabilities: {
    tools: {},
    resources: {},
  },
});

// è¨»å†Šå·¥å…·
server.setRequestHandler(ListToolsRequestSchema, async () => ({
  tools: [
    {
      name: "list_agents",
      description: "åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ AI Agentï¼Œå¯æŒ‰é¡åˆ¥éæ¿¾",
      inputSchema: {
        type: "object",
        properties: {
          category: {
            type: "string",
            enum: ["thinking", "frontend", "backend", "game-dev", "industrial", "firmware", "quality"],
            description: "Agent é¡åˆ¥"
          }
        }
      }
    },
    {
      name: "get_agent",
      description: "å–å¾—ç‰¹å®š Agent çš„è©³ç´°è³‡è¨Šï¼ŒåŒ…å«å®Œæ•´çš„ system prompt",
      inputSchema: {
        type: "object",
        properties: {
          id: { type: "string", description: "Agent ID" }
        },
        required: ["id"]
      }
    },
    {
      name: "download_agent",
      description: "ä¸‹è¼‰ Agent æª”æ¡ˆï¼Œæ”¯æ´å¤šç¨®æ ¼å¼è¼¸å‡ºï¼ˆClaude Code / GPT / Raw Promptï¼‰",
      inputSchema: {
        type: "object",
        properties: {
          id: { type: "string", description: "Agent ID" },
          target_path: { type: "string", description: "ç›®æ¨™è·¯å¾‘", default: ".claude/agents/" },
          format: { 
            type: "string", 
            enum: ["claude-code", "gpt", "raw-prompt"],
            description: "è¼¸å‡ºæ ¼å¼ï¼šclaude-codeï¼ˆå®Œæ•´æ ¼å¼ï¼‰ã€gptï¼ˆGPT Custom Instructionsï¼‰ã€raw-promptï¼ˆç´” System Promptï¼‰",
            default: "claude-code"
          }
        },
        required: ["id"]
      }
    },
    {
      name: "get_preset",
      description: "å–å¾—é è¨­çš„ Agent çµ„åˆåŒ…ï¼Œé©åˆç‰¹å®šé¡å‹å°ˆæ¡ˆ",
      inputSchema: {
        type: "object",
        properties: {
          preset_name: {
            type: "string",
            enum: ["game-project", "industrial-project", "fullstack-project", "backend-project", "firmware-project", "iot-project", "security-focused"],
            description: "çµ„åˆåŒ…åç¨±"
          }
        },
        required: ["preset_name"]
      }
    },
    {
      name: "recommend_agents",
      description: "æ ¹æ“šå°ˆæ¡ˆæè¿°æ™ºæ…§æ¨è–¦é©åˆçš„ Agent",
      inputSchema: {
        type: "object",
        properties: {
          project_description: { type: "string", description: "å°ˆæ¡ˆæè¿°" }
        },
        required: ["project_description"]
      }
    }
  ]
}));
```

---

## 4. Web ä»‹é¢è¨­è¨ˆ

> **æ³¨æ„**ï¼šåŸè¨ˆç•«ä½¿ç”¨ Three.js 3D æ›¸æ¶ä»‹é¢ï¼Œä½†å› é–‹ç™¼æ•ˆç‡è€ƒé‡å·²æ”¹ç‚º 2D å¡ç‰‡åˆ—è¡¨ï¼ˆè¦‹ ADR-001ï¼‰ã€‚

### 4.1 é é¢çµæ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Frontend (Port 3000)                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  index.html (å…¥å£é )                                             â”‚
â”‚  â”œâ”€â”€ Hero Sectionï¼šéˆé–£å“ç‰Œå±•ç¤º                                  â”‚
â”‚  â”œâ”€â”€ ã€Œä½•ç‚ºéˆé–£ã€ï¼šä¸‰å€‹æ ¸å¿ƒåƒ¹å€¼å¡ç‰‡                               â”‚
â”‚  â”œâ”€â”€ ã€Œå…©ç¨®èº«ä»½ã€ï¼šä½¿ç”¨è€… / å‰µä½œè€…                                â”‚
â”‚  â”œâ”€â”€ ã€Œå¦‚ä½•é‹ä½œã€ï¼šMCP è¨­å®šèªªæ˜                                   â”‚
â”‚  â”œâ”€â”€ ã€Œæ•™å­¸å½±ç‰‡ã€ï¼šScreen Studio æ•™å­¸                             â”‚
â”‚  â”œâ”€â”€ ã€Œå‰µä½œè€…ç¶“æ¿Ÿã€ï¼š90/10 åˆ†æ½¤èªªæ˜                               â”‚
â”‚  â””â”€â”€ ã€ŒçŸ¥è­˜é ˜åŸŸã€ï¼šé¡åˆ¥æ¨™ç±¤å±•ç¤º                                   â”‚
â”‚                                                                  â”‚
â”‚  explore.html (æ¢ç´¢é )                                           â”‚
â”‚  â”œâ”€â”€ é¡åˆ¥ç¯©é¸å™¨                                                  â”‚
â”‚  â”œâ”€â”€ æ™ºéˆå¡ç‰‡åˆ—è¡¨                                                â”‚
â”‚  â”œâ”€â”€ ç™»å…¥ Modal (OAuth + API Key)                                â”‚
â”‚  â””â”€â”€ æ™ºéˆè©³æƒ… Modal                                              â”‚
â”‚                                                                  â”‚
â”‚  dashboard.html (å‰µä½œè€…å¾Œå°)                                     â”‚
â”‚  â”œâ”€â”€ å¸³è™Ÿè³‡è¨Šï¼ˆé›™é¡åº¦ï¼šç·£/é­‚ï¼‰                                    â”‚
â”‚  â”œâ”€â”€ API Key ç®¡ç†                                                â”‚
â”‚  â”œâ”€â”€ OAuth å¸³è™Ÿç®¡ç†                                               â”‚
â”‚  â”œâ”€â”€ MCP è¨­å®šæŒ‡å—ï¼ˆClaude Code / ChatGPT / Geminiï¼‰              â”‚
â”‚  â”œâ”€â”€ ä½¿ç”¨çµ±è¨ˆ                                                    â”‚
â”‚  â”œâ”€â”€ ä¸Šå‚³æ™ºéˆè¡¨å–®                                                â”‚
â”‚  â””â”€â”€ Custom Instructions è¨­å®š                                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è¦–è¦ºè¨­è¨ˆ

**è¨­è¨ˆé¢¨æ ¼**ï¼šæ±æ–¹ç¥ç§˜ + å®‡å®™æ·±é‚ƒ

| å…ƒç´  | èªªæ˜ |
|------|------|
| **ä¸»è‰²èª¿** | é‡‘è‰² `#e8d5a3`ï¼ˆå“ç‰Œè‰²ï¼‰ã€ç´«è‰² `#7c5cbf`ï¼ˆå¼·èª¿è‰²ï¼‰ |
| **èƒŒæ™¯** | æ·±ç©ºé»‘ `#0a0a12` + æ˜Ÿè¾°ç²’å­æ•ˆæœ |
| **å­—é«”** | é¦¬å–„æ”¿ï¼ˆå“ç‰Œå±•ç¤ºï¼‰ã€æ€æºå®‹é«”ï¼ˆæ¨™é¡Œï¼‰ã€æ€æºé»‘é«”ï¼ˆå…§æ–‡ï¼‰ |
| **å‹•æ•ˆ** | é é¢è½‰å ´æ·¡å…¥æ·¡å‡ºã€æ»‘é¼ æ˜Ÿè¾°ç²’å­è¿½è¹¤ã€å¡ç‰‡æ‡¸åœä¸Šæµ® |

### 4.3 æ™ºéˆå¡ç‰‡è¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§                                   â”‚
â”‚  ä»‹é¢å¿ƒç†å­¸æ™ºéˆ                       â”‚
â”‚  UI Psychology Expert                â”‚
â”‚                                      â”‚
â”‚  èªçŸ¥è² è·ç†è«–ã€å®Œå½¢å¿ƒç†å­¸ã€            â”‚
â”‚  Fitts's Lawã€Hick's Law            â”‚
â”‚                                      â”‚
â”‚  #frontend  #psychology  #UX        â”‚
â”‚                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ğŸ‘¤ Global-soft Games    âš¡ sonnet   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 é›™é¡åº¦ç³»çµ± UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your Balance                        â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  â˜¯ ç·£     â”‚  â”‚  é­‚ ğŸ”¥    â”‚       â”‚
â”‚  â”‚   100     â”‚  â”‚    50     â”‚       â”‚
â”‚  â”‚  credits  â”‚  â”‚  credits  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                      â”‚
â”‚  Current Mode: [ ç·£æ¨¡å¼ â–¼ ]          â”‚
â”‚                                      â”‚
â”‚  ç·£æ¨¡å¼ï¼šå…è²»é¡åº¦ï¼Œç”¨å®Œéœ€å„²å€¼          â”‚
â”‚  é­‚æ¨¡å¼ï¼šä»˜è²»é¡åº¦ï¼Œæ”¯æŒå‰µä½œè€…          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.5 é¡åˆ¥é…è‰²

| é¡åˆ¥ | é¡è‰² | è‰²ç¢¼ |
|------|------|------|
| thinking | æ·±è—è‰² | `#1E3A5F` |
| frontend | æ©™è‰² | `#E67E22` |
| backend | ç¶ è‰² | `#27AE60` |
| game-dev | ç´«è‰² | `#8E44AD` |
| industrial | ç°è‰² | `#5D6D7E` |
| firmware | æ£•è‰² | `#8B4513` |
| quality | ç´…è‰² | `#C0392B` |

---

## 5. è³‡æ–™çµæ§‹

### 5.1 Agent å®šç¾©ï¼ˆæœ¬åœ°æª”æ¡ˆï¼‰

```typescript
interface Agent {
  id: string;                    // å”¯ä¸€è­˜åˆ¥ç¢¼
  name: string;                  // é¡¯ç¤ºåç¨±
  category: AgentCategory;       // é¡åˆ¥
  description: string;           // è§¸ç™¼æ¢ä»¶èªªæ˜
  theories: string[];            // çµåˆçš„ç§‘å­¸ç†è«–
  tools: string[];               // å¯ç”¨å·¥å…·
  model: 'opus' | 'sonnet' | 'haiku';
  systemPrompt: string;          // å®Œæ•´ System Prompt
  keywords: string[];            // è§¸ç™¼é—œéµå­—
  antiKeywords: string[];        // æ’é™¤é—œéµå­—
  author?: string;               // ä½œè€… emailï¼ˆç”¨æˆ¶ä¸Šå‚³æ™‚å¿…å¡«ï¼‰
  createdAt: Date;
  updatedAt: Date;
}

type AgentCategory =
  | 'thinking'
  | 'frontend'
  | 'backend'
  | 'game-dev'
  | 'industrial'
  | 'firmware'
  | 'quality';
```

### 5.2 Preset å®šç¾©

```typescript
interface Preset {
  id: string;
  name: string;
  description: string;
  agents: string[];        // Agent ID åˆ—è¡¨
  recommendedFor: string;  // é©ç”¨å°ˆæ¡ˆé¡å‹æè¿°
}
```

### 5.3 MongoDB Collections

#### 5.3.1 users - ç”¨æˆ¶å¸³è™Ÿ

```typescript
interface User {
  _id: ObjectId;
  email: string;           // ç”¨æˆ¶ emailï¼ˆå”¯ä¸€ï¼‰
  name: string;            // é¡¯ç¤ºåç¨±
  yuan: number;            // ç·£é¡åº¦ï¼ˆå…è²»é¡åº¦ï¼‰
  hun: number;             // é­‚é¡åº¦ï¼ˆä»˜è²»é¡åº¦ï¼‰
  mode: 'yuan' | 'hun';    // ç•¶å‰å¬å–šæ¨¡å¼
  password?: string;       // å¯†ç¢¼ hashï¼ˆå¯é¸ï¼‰
  customInstructions?: string; // è‡ªè¨‚ MCP æŒ‡ç¤º
  createdAt: Date;
  updatedAt: Date;
}
```

#### 5.3.2 apiKeys - API é‡‘é‘°

```typescript
interface ApiKey {
  _id: ObjectId;
  key: string;             // API Keyï¼ˆå”¯ä¸€ï¼Œæ ¼å¼ï¼šlg-xxxï¼‰
  userId: ObjectId;        // é—œè¯ç”¨æˆ¶
  name: string;            // é‡‘é‘°åç¨±
  lastUsedAt: Date | null;
  createdAt: Date;
}
```

#### 5.3.3 oauthAccounts - OAuth å¸³è™Ÿ

```typescript
interface OAuthAccount {
  _id: ObjectId;
  oauthId: string;         // OAuth IDï¼ˆæ ¼å¼ï¼šlg-oauth-xxxï¼‰
  apiKeyId: ObjectId;      // é—œè¯ API Key
  userId: ObjectId;        // é—œè¯ç”¨æˆ¶
  password: string;        // å¯†ç¢¼ hash
  displayName: string;     // é¡¯ç¤ºåç¨±
  createdAt: Date;
}
```

#### 5.3.4 oauthClients - OAuth å®¢æˆ¶ç«¯ï¼ˆDynamic Registrationï¼‰

```typescript
interface OAuthClient {
  _id: ObjectId;
  clientId: string;        // å®¢æˆ¶ç«¯ ID
  clientSecret: string;    // å®¢æˆ¶ç«¯å¯†é‘°
  clientName: string;      // å®¢æˆ¶ç«¯åç¨±
  redirectUris: string[];  // å…è¨±çš„ redirect URIs
  createdAt: Date;
}
```

#### 5.3.5 oauthCodes - æˆæ¬Šç¢¼

```typescript
interface OAuthCode {
  _id: ObjectId;
  code: string;            // æˆæ¬Šç¢¼
  clientId: string;        // å®¢æˆ¶ç«¯ ID
  apiKeyId: ObjectId;      // é—œè¯ API Key
  redirectUri: string;     // Redirect URI
  codeChallenge?: string;  // PKCE code challenge
  codeChallengeMethod?: string;
  expiresAt: Date;
  createdAt: Date;
}
```

#### 5.3.6 oauthTokens - Access/Refresh Tokens

```typescript
interface OAuthToken {
  _id: ObjectId;
  accessToken: string;     // Access Token
  refreshToken?: string;   // Refresh Tokenï¼ˆå¯é¸ï¼‰
  clientId: string;        // å®¢æˆ¶ç«¯ ID
  apiKeyId: ObjectId;      // é—œè¯ API Key
  expiresAt: Date;
  createdAt: Date;
}
```

#### 5.3.7 transactions - äº¤æ˜“ç´€éŒ„

```typescript
interface Transaction {
  _id: ObjectId;
  userId: ObjectId;        // é—œè¯ç”¨æˆ¶
  type: 'register' | 'purchase' | 'summon';
  amount: number;          // é¡åº¦è®ŠåŒ–ï¼ˆæ­£=å¢åŠ ï¼Œè² =æ‰£é™¤ï¼‰
  balanceAfter: number;    // äº¤æ˜“å¾Œé¤˜é¡
  description: string;     // äº¤æ˜“æè¿°
  createdAt: Date;
}
```

#### 5.3.8 authorEarnings - ä½œè€…æ”¶ç›Š

```typescript
interface AuthorEarning {
  _id: ObjectId;
  author: string;          // ä½œè€… email
  agentId: string;         // Agent ID
  agentName: string;       // Agent åç¨±
  authorEarning: number;   // ä½œè€…æ”¶å…¥ï¼ˆUSDï¼‰
  platformEarning: number; // å¹³å°æ”¶å…¥ï¼ˆUSDï¼‰
  apiKeyId: ObjectId;      // ä½¿ç”¨çš„ API Key
  createdAt: Date;
}
```

#### 5.3.9 uploadedAgents - ç”¨æˆ¶ä¸Šå‚³çš„ Agent

```typescript
interface UploadedAgent {
  _id: ObjectId;
  agentId: string;         // Agent IDï¼ˆå”¯ä¸€ï¼‰
  name: string;            // Agent åç¨±
  category: string;        // é¡åˆ¥
  description: string;     // æè¿°
  systemPrompt: string;    // System Prompt
  model: string;           // æ¨¡å‹
  tools: string[];         // å·¥å…·
  author: string;          // ä½œè€… email
  theories?: string[];     // ç§‘å­¸ç†è«–
  keywords?: string[];     // è§¸ç™¼é—œéµå­—
  createdAt: Date;
  updatedAt: Date;
}
```

#### 5.3.10 summonLogs - å¬å–šç´€éŒ„

```typescript
interface SummonLog {
  _id: ObjectId;
  agentId: string;         // Agent ID
  agentName: string;       // Agent åç¨±
  apiKeyId: ObjectId;      // ä½¿ç”¨çš„ API Key
  userId: ObjectId;        // ç”¨æˆ¶ ID
  author?: string;         // ä½œè€… emailï¼ˆè‹¥æœ‰ï¼‰
  createdAt: Date;
}
```

---

## 6. èªè­‰æ©Ÿåˆ¶

> **è©³ç´°æ–‡ä»¶**ï¼šè«‹åƒé–± [docs/authentication.md](docs/authentication.md)

éˆé–£æ¡ç”¨ **OAuth 2.0** ä½œç‚ºå”¯ä¸€çš„èªè­‰æ–¹å¼ï¼Œæ”¯æ´å¤šç¨® MCP å®¢æˆ¶ç«¯ï¼ˆChatGPTã€Claude Codeã€Geminiï¼‰ã€‚

### 6.1 å¿«é€Ÿæ¦‚è¦½

**èªè­‰æµç¨‹**ï¼š
1. ç”¨æˆ¶åœ¨ Dashboard å‰µå»º OAuth å¸³è™Ÿï¼ˆ`lg-oauth-xxxxxxxx` + å¯†ç¢¼ï¼‰
2. MCP å®¢æˆ¶ç«¯è§¸ç™¼ OAuth æˆæ¬Šæµç¨‹
3. ç”¨æˆ¶åœ¨æˆæ¬Šé é¢è¼¸å…¥ OAuth ID + å¯†ç¢¼
4. MCP Server ç™¼æ”¾ Access Tokenï¼ˆUUID æ ¼å¼ï¼‰
5. MCP å®¢æˆ¶ç«¯ä½¿ç”¨ Access Token å‘¼å« API

**Token é©—è­‰**ï¼š
- æ‰€æœ‰éœ€è¦èªè­‰çš„ API ç«¯é»éƒ½ä½¿ç”¨ `validateOAuthToken` å‡½æ•¸
- Token æ ¼å¼ï¼šUUIDï¼ˆ32 ä½å…ƒ hex å­—ä¸²ï¼Œç„¡å‰ç¶´ï¼‰
- æœ‰æ•ˆæœŸï¼š1 å°æ™‚ï¼ˆå¯ä½¿ç”¨ Refresh Token æ›´æ–°ï¼‰

**ç§»é™¤çš„èˆŠç³»çµ±**ï¼ˆv3.0.0ï¼‰ï¼š
- âŒ API Key ç³»çµ±ï¼ˆ`lg_` å‰ç¶´ï¼‰
- âŒ é–‹ç™¼æ¸¬è©¦ Keyï¼ˆ`DEV_API_KEYS`ï¼‰
- âœ… çµ±ä¸€ä½¿ç”¨ OAuth Token

---

## 7. API è¦æ ¼

### 7.1 REST Endpoints

#### å…¬é–‹ APIï¼ˆä¸éœ€èªè­‰ï¼‰

| Method | Endpoint | èªªæ˜ |
|--------|----------|------|
| GET | `/api/public-config` | å–å¾—å…¬é–‹è¨­å®šï¼ˆåˆ†æ½¤æ¯”ä¾‹ã€åƒ¹æ ¼ç­‰ï¼‰ |
| GET | `/api/agents` | å–å¾—æ‰€æœ‰æ™ºéˆåˆ—è¡¨ |
| GET | `/api/agents/{id}` | å–å¾—å–®ä¸€æ™ºéˆè©³æƒ… |
| POST | `/api/recommend` | æ ¹æ“šæè¿°æ¨è–¦æ™ºéˆ |
| GET | `/api/tags` | å–å¾—æ‰€æœ‰æ¨™ç±¤ï¼ˆä¾›èªæ„åŒ¹é…ï¼‰ |
| POST | `/api/enhance` | æ¨™ç±¤å¢å¼· prompt |
| GET | `/health` | å¥åº·æª¢æŸ¥ |

#### éœ€è¦ OAuth Token èªè­‰

| Method | Endpoint | èªªæ˜ |
|--------|----------|------|
| POST | `/api/agents/{id}/summon` | å¬å–šæ™ºéˆï¼ˆæ‰£æ¬¾ + è§€å¿µæ³¨å…¥ï¼‰ |
| GET | `/api/balance` | å–å¾—é¤˜é¡ï¼ˆç·£/é­‚é›™é¡åº¦ï¼‰ |
| POST | `/api/mode` | åˆ‡æ›å¬å–šæ¨¡å¼ï¼ˆç·£/é­‚ï¼‰ |
| GET | `/api/usage-stats` | å–å¾—ä½¿ç”¨çµ±è¨ˆ |
| GET | `/api/password/status` | æª¢æŸ¥å¯†ç¢¼æ˜¯å¦å·²è¨­å®š |
| POST | `/api/password` | è¨­å®šå¯†ç¢¼ |
| GET | `/api/oauth-accounts` | å–å¾— OAuth å¸³è™Ÿåˆ—è¡¨ |
| POST | `/api/oauth-accounts` | æ–°å¢ OAuth å¸³è™Ÿ |
| GET | `/api/tags` | å–å¾—æ‰€æœ‰æ¨™ç±¤ï¼ˆä¾› AI èªæ„åŒ¹é…ï¼‰ |
| POST | `/api/enhance` | å¢å¼· promptï¼ˆAI å‚³å…¥åŒ¹é…æ¨™ç±¤ï¼‰ |

#### OAuth ç›¸é—œç«¯é»

| Method | Endpoint | èªªæ˜ |
|--------|----------|------|
| GET | `/.well-known/oauth-authorization-server` | OAuth Metadata (RFC 8414) |
| GET | `/.well-known/oauth-protected-resource` | Protected Resource Metadata (RFC 9728) |
| POST | `/oauth/register` | Dynamic Client Registration |
| GET | `/oauth/authorize` | æˆæ¬Šé é¢ |
| POST | `/oauth/authorize` | è™•ç†æˆæ¬Š |
| POST | `/oauth/token` | Token ç«¯é» |
| POST | `/api/validate-oauth-token` | é©—è­‰ OAuth Token |

### 6.2 è§€å¿µæ³¨å…¥ API

**POST `/api/agents/{id}/summon`**

ç•¶æä¾› `user_query` åƒæ•¸æ™‚ï¼Œæœƒå•Ÿç”¨è§€å¿µæ³¨å…¥ï¼š

```json
// Request
{
  "user_query": "ä»‹é¢å¾ˆäº‚ï¼Œä¸çŸ¥é“æ€éº¼æ”¹"
}

// Response
{
  "success": true,
  "agent_id": "ui-psychology-expert",
  "agent_name": "ä»‹é¢å¿ƒç†å­¸æ™ºéˆ",
  "system_prompt": "...",
  "concept_injection": {
    "user_query": "ä»‹é¢å¾ˆäº‚ï¼Œä¸çŸ¥é“æ€éº¼æ”¹",
    "enriched_context": "ç”¨æˆ¶è¡¨é”çš„ã€Œäº‚ã€åœ¨ UI/UX é ˜åŸŸå¯èƒ½æ¶‰åŠï¼šèªçŸ¥è² è·éé«˜...",
    "applied_theories": [
      "èªçŸ¥è² è·ç†è«– Cognitive Load Theory",
      "å®Œå½¢å¿ƒç†å­¸ Gestalt Psychology",
      "Miller's Law (7Â±2)"
    ],
    "interpretations": [
      "ã€Œäº‚ã€â†’ è¦–è¦ºå…ƒç´ éå¤šæˆ–ç¼ºä¹çµ„ç¹”çµæ§‹",
      "å¯èƒ½é•å Gestalt æ¥è¿‘åŸå‰‡æˆ–ç›¸ä¼¼åŸå‰‡"
    ],
    "guidance": "é‹ç”¨é€™äº›ç†è«–æ¡†æ¶åˆ†æä»‹é¢å•é¡Œï¼Œçµ¦å‡ºå°ˆæ¥­å»ºè­°"
  },
  "yuan": 99,
  "hun": 50,
  "mode": "yuan",
  "deducted_from": "yuan"
}
```

### 6.3 æ ¼å¼åƒæ•¸èªªæ˜

| format å€¼ | èªªæ˜ | è¼¸å‡ºå…§å®¹ |
|-----------|------|---------|
| `claude-code` | Claude Code å®Œæ•´æ ¼å¼ï¼ˆé è¨­ï¼‰ | frontmatter + system prompt |
| `gpt` | GPT Custom Instructions æ ¼å¼ | ç´” system promptï¼Œé©åˆè²¼å…¥ GPT |
| `raw-prompt` | ç´” System Prompt | æœ€ç²¾ç°¡ï¼Œåªæœ‰æ ¸å¿ƒæç¤ºè© |

### 6.3 æ ¼å¼è½‰æ›é‚è¼¯

```typescript
// æ ¼å¼è½‰æ›å‡½æ•¸
function convertAgent(agent: Agent, format: string): string {
  switch (format) {
    case 'claude-code':
      // å®Œæ•´è¼¸å‡ºï¼ŒåŒ…å« frontmatter
      return `---
name: ${agent.name}
description: |
  ${agent.description}
tools: ${agent.tools.join(', ')}
model: ${agent.model}
---

${agent.systemPrompt}`;

    case 'gpt':
      // GPT æ ¼å¼ï¼šåªä¿ç•™ system promptï¼Œç§»é™¤ Claude ç‰¹å®šæŒ‡ä»¤
      return agent.systemPrompt;

    case 'raw-prompt':
      // æœ€ç²¾ç°¡ç‰ˆæœ¬
      return agent.systemPrompt;

    default:
      return convertAgent(agent, 'claude-code');
  }
}
```

### 6.4 Response æ ¼å¼

```json
// GET /api/agents
{
  "success": true,
  "data": {
    "total": 33,
    "categories": {
      "thinking": 6,
      "frontend": 4,
      "backend": 5,
      "game-dev": 5,
      "industrial": 3,
      "firmware": 6,
      "quality": 4
    },
    "agents": [
      {
        "id": "algorithm-expert",
        "name": "æ¼”ç®—æ³•æ™ºéˆ",
        "category": "thinking",
        "theories": ["è¨ˆç®—è¤‡é›œåº¦ç†è«–", "æ”¤éŠ·åˆ†æ", "Master Theorem"],
        "description": "æ•ˆèƒ½å„ªåŒ–ã€è¤‡é›œåº¦åˆ†æ",
        "tools": ["Read-only tools"],
        "model": "sonnet"
      }
    ]
  }
}
```

---

## 7. æª”æ¡ˆçµæ§‹

```
ling-ge/
â”œâ”€â”€ .env                             # ç’°å¢ƒè®Šæ•¸è¨­å®šï¼ˆè¨ˆè²»ã€é‡‘æµã€DBï¼‰
â”œâ”€â”€ SDD.md                           # æœ¬æ–‡ä»¶
â”œâ”€â”€ README.md                        # å°ˆæ¡ˆèªªæ˜
â”‚
â”œâ”€â”€ agents/                          # å®˜æ–¹ Agent å®šç¾©æª”ï¼ˆ33 å€‹ï¼‰
â”‚   â”œâ”€â”€ thinking/                    # æ€ç¶­/ç†è«–å‹ (6)
â”‚   â”œâ”€â”€ frontend/                    # å‰ç«¯é–‹ç™¼ (4)
â”‚   â”œâ”€â”€ backend/                     # å¾Œç«¯é–‹ç™¼ (5)
â”‚   â”œâ”€â”€ game-dev/                    # éŠæˆ²é–‹ç™¼ (5)
â”‚   â”œâ”€â”€ industrial/                  # å·¥æ¥­ç³»çµ± (3)
â”‚   â”œâ”€â”€ firmware/                    # éŸŒé«”/åµŒå…¥å¼ (6)
â”‚   â””â”€â”€ quality/                     # å“è³ªä¿è­‰ (4)
â”‚
â”œâ”€â”€ api-server/                      # API Server (Port 3100)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                 # ä¸»ç¨‹å¼
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ billing.ts           # è¨ˆè²»è¨­å®šï¼ˆå¾ .env è®€å–ï¼‰
â”‚   â”‚   â””â”€â”€ db/
â”‚   â”‚       â””â”€â”€ database.ts          # MongoDB é€£ç·šèˆ‡æ“ä½œ
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ mcp-server/                      # MCP Server (Port 3200)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts                 # MCP ä¸»ç¨‹å¼
â”‚   â”‚   â”œâ”€â”€ api-client.ts            # API Server å®¢æˆ¶ç«¯
â”‚   â”‚   â””â”€â”€ tools/
â”‚   â”‚       â”œâ”€â”€ listAgents.ts
â”‚   â”‚       â”œâ”€â”€ getAgent.ts
â”‚   â”‚       â”œâ”€â”€ summonAgent.ts       # å¬å–šï¼ˆæ‰£é¡åº¦ + åˆ†æ½¤ï¼‰
â”‚   â”‚       â”œâ”€â”€ recommendAgents.ts
â”‚   â”‚       â”œâ”€â”€ getPreset.ts
â”‚   â”‚       â”œâ”€â”€ getBalance.ts
â”‚   â”‚       â””â”€â”€ getUsageStats.ts
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ web-admin/                       # Web Admin (Port 3300) - ç®¡ç†å¾Œå°å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.ts                  # ä¸»ç¨‹å¼
â”‚   â”‚   â””â”€â”€ style.css                # æ¨£å¼
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ web-client/                      # Web Client (Port 3000) - ä½¿ç”¨è€…å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.ts                  # ä¸»ç¨‹å¼
â”‚   â”‚   â”œâ”€â”€ dashboard.ts             # Author Dashboard
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ agentService.ts
â”‚   â”‚       â””â”€â”€ dashboardService.ts
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ dashboard.html               # Author Dashboard é é¢
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ presets/                         # é è¨­çµ„åˆåŒ…
â”‚   â”œâ”€â”€ game-project.json
â”‚   â”œâ”€â”€ industrial-project.json
â”‚   â”œâ”€â”€ fullstack-project.json
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ package.json                     # æ ¹ç›®éŒ„ package.json
```

---

## 8. å•†æ¥­æ¨¡å¼ï¼šæ­Œå–®ç¶“æ¿Ÿ

### 8.1 æ ¸å¿ƒæ¦‚å¿µ

éˆé–£æ¡ç”¨ã€Œæ­Œå–®ç¶“æ¿Ÿã€æ¨¡å¼ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰µä½œè€…å€‘                                  â”‚
â”‚            ï¼ˆä»»ä½•äººéƒ½å¯ä»¥ä¸Šå‚³ Agentï¼‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚          â”‚          â”‚          â”‚
           â–¼          â–¼          â–¼          â–¼
         ğŸ“–        ğŸ“–        ğŸ“–        ğŸ“–
           â”‚          â”‚          â”‚          â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ ä¸Šæ¶
                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              ğŸ“š éˆé–£å¹³å°                              â”‚
    â”‚                                                      â”‚
    â”‚   â€¢ æ ¼å¼é©—è­‰                                         â”‚
    â”‚   â€¢ åƒåœ¾éæ¿¾                                         â”‚
    â”‚   â€¢ æ•¸æ“šçµ±è¨ˆï¼ˆä¸‹è¼‰é‡ã€è©•åˆ†ï¼‰                          â”‚
    â”‚   â€¢ æ™ºæ…§æ¨è–¦ï¼ˆå»ºè­°ï¼Œéæ±ºå®šï¼‰                          â”‚
    â”‚                                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                    ç”¨æˆ¶ï¼ˆè¶…ç´šå€‹é«”ï¼‰                   â”‚
    â”‚                                                      â”‚
    â”‚   ã€Œæˆ‘è¦åš MMORPGã€                                   â”‚
    â”‚            â†“                                         â”‚
    â”‚   å¹³å°å»ºè­°ï¼šæ¨è–¦ Aã€Bã€Cï¼Œä¹Ÿå»ºè­°è€ƒæ…® Dã€E             â”‚
    â”‚            â†“                                         â”‚
    â”‚   ç”¨æˆ¶è‡ªè¡Œé¸æ“‡ â†’ ç¢ºèªä¸‹è¼‰                            â”‚
    â”‚                                                      â”‚
    â”‚              ğŸ’° è¨‚é–±åˆ¶ / æŒ‰ä¸‹è¼‰ä»˜è²»                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                   ğŸ’¸ åˆ†æ½¤çµ¦å‰µä½œè€…
```

### 8.2 å¹³å°å®šä½ï¼šé¡§å•è€Œéä¿è­‰

**æ ¸å¿ƒåŸå‰‡ï¼šã€Œå»ºè­°ä½ è€ƒæ…®ï¼Œä½ ä¾†æ±ºå®šã€**

| å®šä½ | èªªæ˜ |
|------|------|
| âŒ éŒ¯èª¤ | ã€Œå¹«ä½ é…å¥½ï¼Œç›´æ¥ç”¨ã€â†’ å‡ºäº‹ç”¨æˆ¶æ€ªå¹³å° |
| âœ… æ­£ç¢º | ã€Œå»ºè­°ä½ è€ƒæ…®ï¼Œä½ æ±ºå®šã€â†’ è²¬ä»»åœ¨ç”¨æˆ¶ |

**ç‚ºä»€éº¼é€™æ¨£è¨­è¨ˆï¼Ÿ**

| | æ­Œå–®é…éŒ¯ | Agent é…æ¼ |
|--|---------|-----------|
| å¾Œæœ | è½åˆ°ä¸å–œæ­¡çš„æ­Œ | ç¨‹å¼æœ‰æ¼æ´ã€å°ˆæ¡ˆå‡ºå•é¡Œ |
| æå¤± | å¹¾åˆ†é˜ | å¯èƒ½å¾ˆå¤§ |
| é¢¨éšª | æ¥µä½ | éœ€è¦ç”¨æˆ¶è‡ªè¡ŒæŠŠé—œ |

**å¹³å°æ˜¯é¡§å•ï¼Œä¸æ˜¯ä¿è­‰ï¼š**
- æ¨è–¦æœ€é©åˆçš„ Agent
- æé†’å¯èƒ½éœ€è¦è€ƒæ…®çš„é¢å‘
- æœ€çµ‚é¸æ“‡æ¬Šèˆ‡è²¬ä»»åœ¨ç”¨æˆ¶

### 8.3 æ¨è–¦é«”é©—è¨­è¨ˆ

```
ç”¨æˆ¶è¼¸å…¥ï¼šã€Œæˆ‘è¦åšä¸€å€‹æœ‰é‡‘èç³»çµ±çš„ MMORPGã€

å¹³å°å›æ‡‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ æ ¹æ“šä½ çš„å°ˆæ¡ˆï¼Œå»ºè­°è€ƒæ…®ä»¥ä¸‹ Agentï¼š               â”‚
â”‚                                                      â”‚
â”‚  æ¨è–¦ï¼š                                              â”‚
â”‚  â˜‘ï¸ éŠæˆ²ç¶“æ¿Ÿæ™ºéˆï¼ˆéŠæˆ²å…§ç¶“æ¿Ÿç³»çµ±ï¼‰                   â”‚
â”‚  â˜‘ï¸ ç‹€æ…‹æ©Ÿæ™ºéˆï¼ˆéŠæˆ²é‚è¼¯ï¼‰                          â”‚
â”‚  â˜‘ï¸ 3D æ•¸å­¸æ™ºéˆï¼ˆéŠæˆ²é‹ç®—ï¼‰                         â”‚
â”‚  â˜‘ï¸ è³‡æ–™åº«æ™ºéˆï¼ˆç©å®¶è³‡æ–™ï¼‰                          â”‚
â”‚                                                      â”‚
â”‚  ä¹Ÿå»ºè­°è€ƒæ…®ï¼š                                        â”‚
â”‚  â˜ å®‰å…¨å¯©è¨ˆæ™ºéˆï¼ˆæ¶‰åŠé‡‘æµï¼‰                         â”‚
â”‚  â˜ èªè­‰æˆæ¬Šæ™ºéˆï¼ˆå¸³è™Ÿç³»çµ±ï¼‰                         â”‚
â”‚  â˜ éŠæˆ²è®Šç¾æ™ºéˆï¼ˆå•†æ¥­æ¨¡å¼ï¼‰                         â”‚
â”‚                                                      â”‚
â”‚  âš ï¸ ä»¥ä¸Šç‚ºå»ºè­°ï¼Œè«‹ä¾å¯¦éš›éœ€æ±‚è‡ªè¡Œé¸æ“‡                â”‚
â”‚                                                      â”‚
â”‚              [ ç¢ºèªä¸‹è¼‰å·²é¸é …ç›® ]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.4 å¹³å°è§’è‰²å®šç¾©

**å¹³å°åšçš„äº‹ï¼š**
| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| æ ¼å¼é©—è­‰ | ç¢ºä¿ Agent æª”æ¡ˆæ ¼å¼æ­£ç¢ºã€èƒ½é‹è¡Œ |
| åƒåœ¾éæ¿¾ | éæ¿¾æƒ¡æ„å…§å®¹ã€åƒåœ¾è³‡è¨Š |
| æ•¸æ“šæä¾› | ä¸‹è¼‰é‡ã€è©•åˆ†ã€ä½¿ç”¨é »ç‡çµ±è¨ˆ |
| æ™ºæ…§æ¨è–¦ | ä¾ç”¨æˆ¶éœ€æ±‚ã€Œå»ºè­°ã€é©åˆçš„ Agentï¼ˆéæ±ºå®šï¼‰ |

**å¹³å°ä¸åšçš„äº‹ï¼š**
| ç¦æ­¢è¡Œç‚º | åŸå›  |
|---------|------|
| è©•æ–· Agent å“è³ªå¥½å£ | è®“å¸‚å ´æ±ºå®š |
| æ±ºå®šå‰µä½œè€…ä½œå“åƒ¹å€¼ | è®“ç”¨æˆ¶è©•åƒ¹æ±ºå®š |
| ä»²è£å…§å®¹å„ªåŠ£ | å¹³å°æ˜¯åŸºç¤è¨­æ–½ï¼Œä¸æ˜¯è£åˆ¤ |
| ä¿è­‰æ¨è–¦å®Œç¾ | å¹³å°æ˜¯é¡§å•ï¼Œè²¬ä»»åœ¨ç”¨æˆ¶ |

### 8.5 å¸‚å ´æ©Ÿåˆ¶

è®“å¸‚å ´æ±ºå®šåƒ¹å€¼ï¼Œè€Œéå¹³å°ä»²è£ï¼š

```
å‰µä½œè€…ä¸Šå‚³ Agent
        â†“
å¹³å°é©—è­‰ï¼šæ ¼å¼æ­£ç¢ºï¼Ÿç„¡æƒ¡æ„å…§å®¹ï¼Ÿ
        â†“
ä¸Šæ¶
        â†“
ç”¨æˆ¶ä¸‹è¼‰ã€ä½¿ç”¨ã€è©•åƒ¹
        â†“
å¥½çš„ Agent è‡ªç„¶æµ®å‡ºï¼ˆä¸‹è¼‰é‡é«˜ã€è©•åˆ†é«˜ï¼‰
çˆ›çš„ Agent è‡ªç„¶æ²‰åº•ï¼ˆæ²’äººç”¨ï¼‰
```

**æ•¸æ“šé©…å‹•æ’åºï¼š**
- ğŸ“Š ä¸‹è¼‰æ¬¡æ•¸
- â­ ç”¨æˆ¶è©•åˆ†
- ğŸ”„ ä½¿ç”¨é »ç‡
- ğŸ“ˆ è¶¨å‹¢ç†±åº¦

### 8.6 ä»˜è²»æ¨¡å¼ï¼šå„²å€¼åˆ¶

**æ¨¡å¼è¨­è¨ˆï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ¶                                â”‚
â”‚                     å„²å€¼ $0.01 USD (100 credits)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MCP å¬å–š                                â”‚
â”‚              ã€Œå¹«æˆ‘é…å¥½ MMORPG å°ˆæ¡ˆåœ˜éšŠã€                     â”‚
â”‚                                                             â”‚
â”‚     å¬å–š 5 å€‹ Agent Ã— 1 credit = 5 credits                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ å¹³å° 10%     â”‚           â”‚ å‰µä½œè€… 90%   â”‚
    â”‚ $0.00001     â”‚           â”‚ $0.00009     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç•¶å‰è¨ˆè²»è¨­å®šï¼ˆå·²é©—è­‰ API å¯¦éš›å€¼ï¼‰ï¼š**

> âœ… **æœ€å¾Œé©—è­‰æ™‚é–“**ï¼š2026-01-30
> ğŸ“¡ **é©—è­‰ä¾†æº**ï¼š`GET /api/public-config`

```json
{
  "freeCredits": 10,
  "pricePerSummon": 0.1,
  "authorShare": 0.7,
  "platformShare": 0.3,
  "topupEnabled": true
}
```

**å®šåƒ¹è¨­è¨ˆï¼š**

| é …ç›® | é‡‘é¡ | èªªæ˜ |
|------|------|------|
| æ¯æ¬¡å¬å–šåƒ¹æ ¼ | $0.1 USD | ç›´æ¥æ‰£æ¬¾ï¼Œç„¡é¡åº¦åˆ¶ |
| è¨»å†Šè´ˆé€ | 10 credits | æ–°ç”¨æˆ¶å…è²»é«”é©— |

**åˆ†æ½¤æ¯”ä¾‹ï¼ˆ70/30ï¼‰ï¼š**

| è§’è‰² | æ¯”ä¾‹ | æ¯æ¬¡å¬å–šæ‰€å¾— |
|------|------|-------------|
| å‰µä½œè€… | 70% | $0.07 |
| å¹³å° | 30% | $0.03 |

**ç‚ºä»€éº¼é¸å„²å€¼åˆ¶è€Œéè¨‚é–±åˆ¶ï¼Ÿ**

| é¢å‘ | è¨‚é–±åˆ¶ | å„²å€¼åˆ¶ |
|------|--------|--------|
| å¿ƒç†é–€æª» | é«˜ï¼ˆæ¯æœˆè¢«æ‰£éŒ¢ï¼‰ | ä½ï¼ˆç”¨å¤šå°‘æ‰£å¤šå°‘ï¼‰ |
| ç”¨æˆ¶é¡å‹ | åªé©åˆé‡åº¦ç”¨æˆ¶ | æ‰€æœ‰äººéƒ½é©åˆ |
| ä½¿ç”¨æƒ…å¢ƒ | ä¸ç¬¦åˆï¼ˆä¸æ˜¯æ¯å¤©é–‹æ–°æ¡ˆï¼‰ | ç¬¦åˆï¼ˆé–‹æ¡ˆæ™‚æ‰ç”¨ï¼‰ |
| æµå¤±é¢¨éšª | ç”¨ä¸åˆ°å°±å–æ¶ˆ | éŒ¢åœ¨å¸³æˆ¶è£¡ï¼Œæœƒç¹¼çºŒç”¨ |
| ç¬¦åˆæ­Œå–®ç¶“æ¿Ÿ | âŒ | âœ… ä½å–®åƒ¹ Ã— å¤§é‡ä½¿ç”¨ |

**å‰µä½œè€…æ”¶ç›Šè©¦ç®—ï¼š**

```
å‡è¨­ï¼šä½ çš„ Agent æ¯æœˆè¢«å¬å–š 10,000 æ¬¡

æ”¶ç›Š = 10,000 Ã— $0.07 = $700/æœˆ

å¦‚æœè¢«å¬å–š 100,000 æ¬¡ = $7,000/æœˆ
```

---

> **ğŸ’¡ é€æ˜åº¦æ‰¿è«¾**ï¼šæœ¬æ–‡ä»¶çš„è¨ˆè²»è³‡è¨Šæœƒå®šæœŸé€é API é©—è­‰ï¼Œç¢ºä¿æ–‡ä»¶èˆ‡å¯¦éš›é‹ä½œä¸€è‡´ã€‚
> é€™ä¸åƒ…æ˜¯å°ä½¿ç”¨è€…çš„èª å¯¦ï¼Œä¹Ÿè®“ AI æ¨¡å‹ï¼ˆGPT/Claude/Geminiï¼‰èƒ½å–å¾—æ­£ç¢ºçš„ã€Œéˆé–£ã€è³‡è¨Šã€‚

### 8.7 å…§å®¹ä¿è­·ç­–ç•¥

**æŒ‘æˆ°ï¼š** Agent æœ¬è³ªæ˜¯æ–‡å­—ï¼Œä¸‹è¼‰å¾Œç„¡æ³•é˜»æ­¢è¤‡è£½ã€‚

**ç­–ç•¥ï¼šé‚Šèµ°é‚Šèª¿æ•´**

| éšæ®µ | ç­–ç•¥ |
|------|------|
| åˆæœŸ | ä¸‹è¼‰åˆ¶ï¼Œå»ºç«‹ç”¨æˆ¶åŸºç¤ |
| ä¸­æœŸ | è©•ä¼° API/MCP æœå‹™æ¨¡å¼ï¼ˆAgent è·‘åœ¨ä¼ºæœå™¨ï¼Œç”¨æˆ¶çœ‹ä¸åˆ° promptï¼‰ |
| é•·æœŸ | æ··åˆåˆ¶ï¼ˆå…è²»å¯ä¸‹è¼‰ï¼ŒPremium åªæä¾› APIï¼‰ |

**å¹³å°åƒ¹å€¼ä¸åœ¨å…§å®¹æœ¬èº«ï¼Œè€Œåœ¨ï¼š**
- æŒçºŒæ›´æ–°èˆ‡ç¶­è­·
- ä¾¿åˆ©çš„ä¸€éµé…ç½®
- æ™ºæ…§åŒ¹é…æ¨è–¦
- å“è³ªä¿è­‰ï¼ˆç¤¾ç¾¤è©•åƒ¹ï¼‰
- å‰µä½œè€…ç”Ÿæ…‹ç³»çµ±

---

## 9. å‰µä½œè€…ç³»çµ±

### 9.1 å‰µä½œè€…æµç¨‹

```
Phase 1ï¼ˆMVPï¼‰ï¼š
å‰µä½œè€…å¯«å¥½ Agent
        â†“
é€é Email / Google Form æŠ•ç¨¿
        â†“
å¹³å°æ‰‹å‹•å¯©æ ¸ï¼ˆæ ¼å¼ã€ç„¡æƒ¡æ„ï¼‰
        â†“
ä¸Šæ¶

Phase 2ï¼ˆè‡ªå‹•åŒ–ï¼‰ï¼š
å‰µä½œè€…è¨»å†Šå¸³è™Ÿ
        â†“
è‡ªåŠ©ä¸Šå‚³ Agent
        â†“
è‡ªå‹•æ ¼å¼é©—è­‰
        â†“
ä¸Šæ¶
        â†“
å¾Œå°æŸ¥çœ‹æ•¸æ“šèˆ‡æ”¶ç›Š
```

### 9.2 ä¸Šå‚³è¦ç¯„

å‰µä½œè€…ä¸Šå‚³çš„ Agent å¿…é ˆåŒ…å«ï¼š

```markdown
---
name: agent-name
description: |
  Invoke when: [è§¸ç™¼æ¢ä»¶ï¼Œå«ä¸­è‹±æ–‡é—œéµå­—]
  DO NOT invoke: [æ’é™¤æ¢ä»¶]
tools: [å·¥å…·åˆ—è¡¨]
model: sonnet | opus | haiku
author: [å‰µä½œè€…åç¨±]
version: 1.0.0
---

[System Prompt å…§å®¹]

## ç†è«–åŸºç¤
[çµåˆçš„ç§‘å­¸ç†è«–]

## å°ˆæ¥­èƒ½åŠ›
[Agent çš„å°ˆé•·]

## å›æ‡‰æ¡†æ¶
[æ¨™æº–åŒ–çš„å›æ‡‰çµæ§‹]
```

### 9.3 å¯©æ ¸æ¨™æº–

| æª¢æŸ¥é …ç›® | æ¨™æº– |
|---------|------|
| æ ¼å¼æ­£ç¢º | frontmatter å®Œæ•´ã€å¯è§£æ |
| ç„¡æƒ¡æ„å…§å®¹ | ç„¡æ”»æ“Šæ€§ã€æ­§è¦–æ€§ã€é•æ³•å…§å®¹ |
| å¯é‹è¡Œ | Agent å¯æ­£å¸¸è¢« AI è¼‰å…¥ä½¿ç”¨ |
| éé‡è¤‡ | ä¸æ˜¯ç¾æœ‰ Agent çš„ç›´æ¥è¤‡è£½ |

**æ³¨æ„ï¼šå¹³å°åªå¯©æ ¸æ ¼å¼èˆ‡å®‰å…¨æ€§ï¼Œä¸è©•åˆ¤å…§å®¹å“è³ªã€‚**

### 9.4 å‰µä½œè€…å¾Œå°ï¼ˆPhase 2+ï¼‰

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| Agent ç®¡ç† | ä¸Šå‚³ã€ç·¨è¼¯ã€ä¸‹æ¶ |
| æ•¸æ“šçµ±è¨ˆ | ä¸‹è¼‰é‡ã€è©•åˆ†ã€è¶¨å‹¢ |
| æ”¶ç›ŠæŸ¥çœ‹ | åˆ†æ½¤é‡‘é¡ã€æé ˜ç´€éŒ„ |
| ç‰ˆæœ¬ç®¡ç† | æ›´æ–° Agentã€ç‰ˆæœ¬æ­·å² |

---

## 10. é–‹ç™¼éšæ®µ

### Phase 1: MVP åŸºç¤å»ºè¨­ âœ… å·²å®Œæˆ
- [x] å»ºç«‹å°ˆæ¡ˆçµæ§‹
- [x] å®Œæˆæ‰€æœ‰ 33 å€‹ç¨®å­ Agent å®šç¾©æª”
- [x] å»ºç«‹ Agent ç´¢å¼•è…³æœ¬
- [x] åŸºç¤ REST API
- [x] æ ¼å¼è½‰æ›å·¥å…·ï¼ˆformatConverter.tsï¼‰
- [x] MCP Server æ ¸å¿ƒå¯¦ä½œ
- [x] æ‰€æœ‰ MCP Tools å¯¦ä½œï¼ˆå«å¤šæ ¼å¼ä¸‹è¼‰ï¼‰

### Phase 2: 2D åˆ—è¡¨ä»‹é¢ âœ… å·²å®Œæˆ
- [x] 2D å¡ç‰‡åˆ—è¡¨ UI
- [x] æœå°‹èˆ‡é¡åˆ¥ç¯©é¸
- [x] Agent è©³æƒ…å½ˆçª—
- [x] MCP æŒ‡ä»¤ä¸€éµè¤‡è£½
- [x] å¤šæ ¼å¼ä¸‹è¼‰ï¼ˆClaude Code / GPT / Rawï¼‰
- [x] éŸ¿æ‡‰å¼è¨­è¨ˆ
- [x] ç§»é™¤ Three.js ä¾è³´ï¼ˆADR-001ï¼‰

### Phase 3: é ç«¯ MCP Server âœ… å·²å®Œæˆ
- [x] æ”¹ç”¨ HTTP/SSE Transportï¼ˆStreamable HTTPï¼‰
- [x] API Key é©—è­‰æ©Ÿåˆ¶
- [x] ç”¨é‡è¿½è¹¤èˆ‡æ‰£é»ï¼ˆé›™é¡åº¦ï¼šç·£/é­‚ï¼‰
- [x] Dockerfile å»ºç«‹
- [x] éƒ¨ç½²è‡³ GCP Cloud Run
- [x] OAuth 2.0 èªè­‰ï¼ˆRFC 8414ã€RFC 9728ï¼‰
- [x] Dynamic Client Registration

### Phase 4: ä»˜è²»èˆ‡å„²å€¼ç³»çµ± âœ… å·²å®Œæˆ
- [x] ç”¨æˆ¶å¸³è™Ÿç³»çµ±ï¼ˆEmail/Password + OAuthï¼‰
- [x] API Key ç®¡ç†
- [x] é›™é¡åº¦ç³»çµ±ï¼ˆç·£ï¼šå…è²» / é­‚ï¼šä»˜è²»ï¼‰
- [x] é¤˜é¡æŸ¥è©¢èˆ‡æ¨¡å¼åˆ‡æ›
- [x] ç”¨é‡å ±è¡¨èˆ‡çµ±è¨ˆ

### Phase 5: è§€å¿µæ³¨å…¥æ©Ÿåˆ¶ âœ… å·²å®Œæˆ
- [x] ask å·¥å…·ï¼šè¿”å›å€™é¸æ™ºéˆï¼ˆä¸æ‰£æ¬¾ï¼‰
- [x] summon_agent è§€å¿µæ³¨å…¥ï¼ˆuser_query åƒæ•¸ï¼‰
- [x] get_tags / enhance API
- [x] concept_injection çµæ§‹ï¼ˆenriched_contextã€applied_theoriesã€guidanceï¼‰

### Phase 6: å‰µä½œè€…ç³»çµ± âœ… å·²å®Œæˆ
- [x] å‰µä½œè€…å¸³è™Ÿï¼ˆèˆ‡ç”¨æˆ¶å¸³è™Ÿæ•´åˆï¼‰
- [x] åˆ†æ½¤æ©Ÿåˆ¶ï¼ˆAuthor 90% / Platform 10%ï¼‰
- [x] è‡ªåŠ©ä¸Šå‚³ Agent ä»‹é¢ï¼ˆDashboardï¼‰
- [x] è‡ªå‹•æ ¼å¼é©—è­‰
- [x] å‰µä½œè€…å¾Œå° Dashboardï¼ˆæ”¶ç›Šçµ±è¨ˆã€æ™ºéˆç®¡ç†ï¼‰

### Phase 7: å¸‚å ´æ©Ÿåˆ¶ âœ… å·²å®Œæˆ
- [x] å¬å–šæ¬¡æ•¸çµ±è¨ˆ
- [x] æ™ºéˆæ’è¡Œï¼ˆä¾å¬å–šæ¬¡æ•¸ï¼‰
- [x] æ¨è–¦æ¼”ç®—æ³•ï¼ˆèªæ„åŒ¹é… + é—œéµå­—ï¼‰

### Phase 8: é‡‘æµæ•´åˆ âœ… å·²å®Œæˆ
- [x] PayPal å„²å€¼åŠŸèƒ½
- [x] å¤šç¨®æ–¹æ¡ˆï¼ˆå‹•æ…‹å®šåƒ¹ï¼‰
- [x] äº¤æ˜“ç´€éŒ„

### Phase 9: æœªä¾†è¦åŠƒ
- [ ] å‰µä½œè€…æé ˜åŠŸèƒ½
- [ ] æ›´å¤šæ”¯ä»˜æ–¹å¼ï¼ˆStripeã€ç¶ ç•Œï¼‰

---

## 11. é™„éŒ„ï¼šAgent å®Œæ•´æ¸…å–®

### 11.1 æ€ç¶­/ç†è«–å‹ (6)
| ID | åç¨± | ç§‘å­¸ç†è«– |
|----|------|---------|
| algorithm-expert | æ¼”ç®—æ³•æ™ºéˆ | è¨ˆç®—è¤‡é›œåº¦ç†è«–ã€æ”¤éŠ·åˆ†æã€Master Theorem |
| architecture-expert | ç³»çµ±æ¶æ§‹æ™ºéˆ | CAP å®šç†ã€ACID/BASEã€åº·å¨å®šå¾‹ã€DDD |
| concurrency-expert | ä½µç™¼æ™ºéˆ | Amdahl's Lawã€è¨˜æ†¶é«”æ¨¡å‹ã€æ­»é–å››æ¢ä»¶ |
| data-modeling-expert | è³‡æ–™å»ºæ¨¡æ™ºéˆ | é—œè¯ä»£æ•¸ã€æ­£è¦åŒ–ç†è«–ã€B-Tree |
| security-auditor | å®‰å…¨å¯©è¨ˆæ™ºéˆ | STRIDEã€é›¶ä¿¡ä»»ã€OWASP Top 10 |
| cryptography-expert | å¯†ç¢¼å­¸æ™ºéˆ | å°ç¨±/éå°ç¨±åŠ å¯†ã€é›œæ¹Šå‡½æ•¸ã€æ•¸ä½ç°½ç«  |

### 11.2 å‰ç«¯ (4)
| ID | åç¨± | ç§‘å­¸ç†è«– |
|----|------|---------|
| ui-psychology-expert | ä»‹é¢å¿ƒç†å­¸æ™ºéˆ | èªçŸ¥è² è·ç†è«–ã€å®Œå½¢å¿ƒç†å­¸ã€Fitts's Law |
| color-design-expert | è‰²å½©è¨­è¨ˆæ™ºéˆ | è‰²å½©å¿ƒç†å­¸ã€è‰²å½©å’Œè«§ç†è«–ã€WCAG |
| accessibility-expert | ç„¡éšœç¤™æ™ºéˆ | é€šç”¨è¨­è¨ˆåŸå‰‡ã€WCAG 2.1ã€èªçŸ¥ç„¡éšœç¤™ |
| frontend-performance | å‰ç«¯æ•ˆèƒ½æ™ºéˆ | Critical Rendering Pathã€æ„ŸçŸ¥æ•ˆèƒ½å¿ƒç†å­¸ |

### 11.3 å¾Œç«¯ (5)
| ID | åç¨± | ç§‘å­¸ç†è«– |
|----|------|---------|
| api-design-expert | API è¨­è¨ˆæ™ºéˆ | REST ç´„æŸã€Richardson æˆç†Ÿåº¦ã€å†ªç­‰æ€§ |
| database-expert | è³‡æ–™åº«æ™ºéˆ | äº¤æ˜“éš”é›¢å±¤ç´šã€MVCCã€æŸ¥è©¢å„ªåŒ–å™¨åŸç† |
| cache-strategy-expert | å¿«å–ç­–ç•¥æ™ºéˆ | LRU/LFUã€å¿«å–ä¸€è‡´æ€§ã€ç©¿é€/é›ªå´©/æ“Šç©¿ |
| message-queue-expert | è¨Šæ¯ä½‡åˆ—æ™ºéˆ | è¨Šæ¯èªç¾©ã€ç™¼å¸ƒè¨‚é–±ã€èƒŒå£“ç†è«– |
| authentication-expert | èªè­‰æˆæ¬Šæ™ºéˆ | OAuth 2.0/OIDCã€JWTã€é›¶çŸ¥è­˜è­‰æ˜ |

### 11.4 éŠæˆ²é–‹ç™¼ (5)
| ID | åç¨± | ç§‘å­¸ç†è«– |
|----|------|---------|
| game-experience-designer | éŠæˆ²é«”é©—è¨­è¨ˆå¸« | å¿ƒæµç†è«–ã€è‡ªæˆ‘æ±ºå®šç†è«–ã€Bartle åˆ†é¡ |
| game-economy-expert | éŠæˆ²ç¶“æ¿Ÿæ™ºéˆ | å¾®è§€ç¶“æ¿Ÿå­¸ã€è³½å±€ç†è«–ã€è¡Œç‚ºç¶“æ¿Ÿå­¸ |
| 3d-math-expert | 3D æ•¸å­¸æ™ºéˆ | ç·šæ€§ä»£æ•¸ã€å››å…ƒæ•¸ã€ç¢°æ’æª¢æ¸¬ |
| state-machine-expert | ç‹€æ…‹æ©Ÿæ™ºéˆ | FSMã€HSMã€è¡Œç‚ºæ¨¹ã€Statecharts |
| game-monetization-expert | éŠæˆ²è®Šç¾æ™ºéˆ | å®šéŒ¨æ•ˆæ‡‰ã€ç¨€ç¼ºæ€§åŸç†ã€åƒ¹æ ¼å¿ƒç†å­¸ |

### 11.5 å·¥æ¥­ç³»çµ± (3)
| ID | åç¨± | ç§‘å­¸ç†è«– |
|----|------|---------|
| plc-communication-expert | PLC é€šè¨Šæ™ºéˆ | OSI æ¨¡å‹ã€å·¥æ¥­å”è­°ã€éŒ¯èª¤æª¢æ¸¬ |
| fault-tolerant-expert | å®¹éŒ¯ç³»çµ±æ™ºéˆ | å¯é æ€§ç†è«–ã€FMEAã€å†—é¤˜è¨­è¨ˆ |
| realtime-system-expert | å³æ™‚ç³»çµ±æ™ºéˆ | å³æ™‚ç†è«–ã€Rate Monotonicã€WCET |

### 11.6 éŸŒé«”/åµŒå…¥å¼ (6)
| ID | åç¨± | ç§‘å­¸ç†è«– |
|----|------|---------|
| embedded-system-expert | åµŒå…¥å¼ç³»çµ±æ™ºéˆ | åµŒå…¥å¼æ¶æ§‹ã€ä¸­æ–·ç†è«–ã€è³‡æºå—é™è¨­è¨ˆ |
| memory-management-expert | è¨˜æ†¶é«”ç®¡ç†æ™ºéˆ | è¨˜æ†¶é«”éšå±¤ã€å°é½Šã€ç¢ç‰‡åŒ–ç†è«– |
| hardware-interface-expert | ç¡¬é«”ä»‹é¢æ™ºéˆ | I2C/SPI/UARTã€æ™‚åºåœ–ã€é›»æ°£ç‰¹æ€§ |
| rtos-expert | RTOS æ™ºéˆ | ä»»å‹™æ’ç¨‹ã€å„ªå…ˆç´šåè½‰ã€ä¿¡è™Ÿé‡ç†è«– |
| low-power-expert | ä½åŠŸè€—æ™ºéˆ | åŠŸè€—æ¨¡å‹ã€DVFSã€èƒ½é‡æ¡é›† |
| bootloader-expert | Bootloader æ™ºéˆ | å•Ÿå‹•æµç¨‹ã€OTAã€å®‰å…¨å•Ÿå‹•éˆ |

### 11.7 å“è³ªä¿è­‰ (4)
| ID | åç¨± | ç§‘å­¸ç†è«– |
|----|------|---------|
| code-reviewer | ç¨‹å¼ç¢¼å¯©æŸ¥æ™ºéˆ | èªçŸ¥è¤‡é›œåº¦ã€ç¨‹å¼ç¢¼æ°£å‘³ã€æŠ€è¡“å‚µç†è«– |
| refactor-expert | é‡æ§‹æ™ºéˆ | è¨­è¨ˆæ¨¡å¼ã€SOLIDã€é‡æ§‹æ¨¡å¼ |
| debug-detective | Debug åµæ¢ | ç§‘å­¸æ–¹æ³•è«–ã€å‡è¨­é©—è­‰ã€äºŒåˆ†æœå°‹é™¤éŒ¯ |
| test-strategist | æ¸¬è©¦ç­–ç•¥æ™ºéˆ | æ¸¬è©¦é‡‘å­—å¡”ã€ç­‰åƒ¹é¡ã€é‚Šç•Œå€¼åˆ†æ |

---

## 12. ç‰ˆæœ¬ç´€éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | èªªæ˜ |
|------|------|------|
| 1.0.0 | 2024-12-23 | åˆå§‹ç‰ˆæœ¬ï¼š33 å€‹ Agentã€MCP Serverã€Three.js æ›¸æ¶ä»‹é¢ |
| 1.1.0 | 2024-12-24 | æ–°å¢å¤šæ ¼å¼è¼¸å‡ºï¼ˆClaude Code / GPT / Raw Promptï¼‰ |
| 1.2.0 | 2024-12-24 | å°ˆæ¡ˆæ›´åç‚ºéˆé–£ (LÃ­ng GÃ©)ï¼Œæ”¯æ´å¤šå¹³å° |
| 1.3.0 | 2024-12-24 | æ–°å¢æ­Œå–®ç¶“æ¿Ÿæ¨¡å¼ã€å‰µä½œè€…ç³»çµ±ç« ç¯€ |
| 1.4.0 | 2024-12-24 | æ–°å¢è¶…ç´šå€‹é«”æ™‚ä»£é¡˜æ™¯ã€ç›®æ¨™ç”¨æˆ¶ TA = All |
| 1.5.0 | 2024-12-24 | æ–°å¢å¹³å°é¡§å•å®šä½ï¼šã€Œå»ºè­°ä½ è€ƒæ…®ï¼Œä½ ä¾†æ±ºå®šã€ |
| 1.6.0 | 2024-12-24 | ä»˜è²»æ¨¡å¼æ”¹ç‚ºå„²å€¼åˆ¶ï¼ˆ$50 å„²å€¼ã€$0.1/æ¬¡å¬å–šã€70/30 åˆ†æ½¤ï¼‰ |
| 1.7.0 | 2024-12-24 | æ­£å¼å®šåã€Œéˆé–£ (LÃ­ng GÃ©) - Agents éˆé­‚å¯¶åº«ã€ |
| 1.8.0 | 2024-12-30 | åˆå§‹ç‰ˆæœ¬ä¸Šå‚³ GitHubï¼šå°ˆæ¡ˆçµæ§‹ã€MCP Serverã€Agent æ ¼å¼å®šç¾© |
| 1.9.0 | 2024-12-31 | ADR-001 æ”¹ç”¨ 2D åˆ—è¡¨ä»‹é¢ã€ADR-002 é ç«¯ MCP æ¶æ§‹ã€ADR-003 GCP Cloud Run |
| 1.10.0 | 2024-12-31 | HTTP/SSE Transport å¯¦ä½œã€Dockerfile å»ºç«‹ |
| 1.11.0 | 2025-01-04 | ADR-004 è‹±æ–‡å„ªå…ˆåœ‹éš›åŒ–ç­–ç•¥ã€Web ä»‹é¢æ”¹ç‚ºè‹±æ–‡ |
| 2.0.0 | 2026-01-07 | é‡å¤§æ›´æ–°ï¼šå¤šæœå‹™æ¶æ§‹ |
| 2.1.0 | 2026-01-15 | è§€å¿µæ³¨å…¥æ©Ÿåˆ¶ + OAuth èªè­‰ |
| **3.0.0** | **2026-01-30** | **çµ±ä¸€ OAuth èªè­‰ï¼Œç§»é™¤èˆŠ API Key ç³»çµ±** |
| **3.1.0** | **2026-01-30** | **UI/UX æ”¹é€²èˆ‡åˆè¦æ€§æ›´æ–°** |

### v3.1.0 æ›´æ–°å…§å®¹

**UI/UX æ”¹é€²ï¼š**
- âœ… Dashboard å“ç‰Œæ¨™èªŒæ”¹ç‚ºå…©æ’å¼è¨­è¨ˆ
- âœ… MCP Setup æ–°å¢é è¨­æ¨™ç±¤åŠŸèƒ½
- âœ… æ¨è–¦æ–¹æ¡ˆæ–°å¢é‡‘è‰²å…‰æšˆæ•ˆæœ
- âœ… Landing Page å…«å¦ç‰ˆæ¨£å¼ç°¡åŒ–
- âœ… è£œé½Šå…«å¦ç‰ˆ Roles èˆ‡ How It Works å€å¡Š
- âœ… æ–°å¢ç¨ç«‹å®šåƒ¹å€å¡Šèˆ‡å‹•æ…‹å„²å€¼æ–¹æ¡ˆ
- âœ… Dashboard Tab é †åºèª¿æ•´ï¼ˆUse Agents å„ªå…ˆï¼‰

**åˆè¦æ€§ï¼š**
- âœ… æ–°å¢éš±ç§æ¬Šæ”¿ç­–é é¢ï¼ˆPrivacy Policyï¼‰
- âœ… æ–°å¢æœå‹™æ¢æ¬¾é é¢ï¼ˆTerms of Serviceï¼‰

**èªè­‰èˆ‡è¨ˆè²»å„ªåŒ–ï¼š**
- âœ… åˆ†é›¢ MCP èˆ‡ Dashboard èªè­‰ç«¯é»
- âœ… ç°¡åŒ–è¨ˆè²»é‚è¼¯èˆ‡ä¿®å¾©å¤šé …é¡¯ç¤ºå•é¡Œ

### v3.0.0 æ›´æ–°å…§å®¹

**èªè­‰ç³»çµ±é‡æ§‹ï¼š**
- âŒ ç§»é™¤ `validateToken` å‡½æ•¸ï¼ˆæ­·å²éºç•™ï¼Œç”¨æ–¼æ”¯æ´èˆŠ API Keyï¼‰
- âŒ ç§»é™¤ `DEV_API_KEYS` é–‹ç™¼æ¸¬è©¦ Key
- âŒ ç§»é™¤æ‰€æœ‰ `lg_` å‰ç¶´çš„ API Key æ”¯æ´
- âœ… æ‰€æœ‰ API ç«¯é»çµ±ä¸€ä½¿ç”¨ `validateOAuthToken` é©—è­‰
- âœ… é–‹ç™¼æ¸¬è©¦ä¹Ÿä½¿ç”¨æ­£å¼ OAuth å¸³è™Ÿ

**ç¨‹å¼ç¢¼ç°¡åŒ–ï¼š**
- ç§»é™¤é‡è¤‡çš„é©—è­‰é‚è¼¯
- çµ±ä¸€èªè­‰æµç¨‹
- æ¸›å°‘ç¶­è­·æˆæœ¬

**æ–‡ä»¶æ›´æ–°ï¼š**
- æ–°å¢ç¨ç«‹çš„èªè­‰æ©Ÿåˆ¶æ–‡ä»¶ï¼ˆ[docs/authentication.md](docs/authentication.md)ï¼‰
- æ›´æ–° SDD èªè­‰ç›¸é—œç« ç¯€

### v2.1.0 æ›´æ–°å…§å®¹

**è§€å¿µæ³¨å…¥æ©Ÿåˆ¶ï¼š**
- æ–°å¢ `ask` å·¥å…·ï¼šä¸»å…¥å£ï¼Œè¿”å›å€™é¸æ™ºéˆè®“ AI é¸æ“‡ï¼ˆä¸æ‰£æ¬¾ï¼‰
- `summon_agent` å·¥å…·æ–°å¢ `user_query` åƒæ•¸ï¼šå•Ÿç”¨è§€å¿µæ³¨å…¥
- è§€å¿µæ³¨å…¥è¿”å› `concept_injection`ï¼š
  - `enriched_context`ï¼šå°‡ç™½è©±è½‰æ›ç‚ºå°ˆæ¥­è¡“èª
  - `applied_theories`ï¼šæ‡‰ç”¨çš„ç†è«–æ¡†æ¶
  - `interpretations`ï¼šå°ˆæ¥­è§’åº¦è§£è®€
  - `guidance`ï¼šå›æ‡‰æŒ‡å¼•
- æ–°å¢ `get_tags` å·¥å…·ï¼šå–å¾—æ‰€æœ‰æ¨™ç±¤ä¾›èªæ„åŒ¹é…
- æ–°å¢ `enhance` å·¥å…·ï¼šæ ¹æ“šæ¨™ç±¤å¢å¼· prompt

**OAuth èªè­‰ï¼š**
- MCP Server æ”¯æ´ OAuth 2.0 èªè­‰ï¼ˆRFC 8414ï¼‰
- æ”¯æ´ Dynamic Client Registration
- æ”¯æ´ ChatGPTã€Gemini ç­‰ MCP å®¢æˆ¶ç«¯

**é¡˜æ™¯æ›´æ–°ï¼š**
- æ ¸å¿ƒå®šä½èª¿æ•´ç‚ºã€Œå°ˆå®¶æ€ç¶­å¯¶åº«ã€
- å¼·èª¿ã€Œè§€å¿µæ³¨å…¥ã€åƒ¹å€¼ï¼šç”¨æˆ¶èªªç™½è©±ï¼ŒAI ç”¨å°ˆæ¥­è¡“èªå›æ‡‰
- Taglineï¼šã€Œå°ˆå®¶çš„æ€ç¶­æ–¹å¼ï¼Œéš¨æ™‚ç‚ºä½ æ‰€ç”¨ã€

### v2.1.0 æ›´æ–°å…§å®¹

**æ¶æ§‹èª¿æ•´ï¼š**
- Admin Server æ•´åˆè‡³ API Serverï¼ˆ/admin/* ç«¯é»ï¼‰
- æ–°å¢ web-admin éœæ…‹å‰ç«¯ï¼ˆVite å°ˆæ¡ˆï¼‰
- web è³‡æ–™å¤¾æ”¹åç‚º web-client

### v2.0.0 æ›´æ–°å…§å®¹

**æ¶æ§‹è®Šæ›´ï¼š**
- æ‹†åˆ†ç‚º 4 å€‹ç¨ç«‹æœå‹™ï¼šAPI Server (3100)ã€MCP Server (3200)ã€Admin Server (3300)ã€Web (3000)
- MCP Server æ”¹ç‚ºé€é API Server å­˜å–è³‡æ–™ï¼ˆä¸å†ç›´æ¥å­˜å– MongoDBï¼‰
- æ–°å¢ Admin Server ç®¡ç†å¾Œå°ï¼ˆå·²æ–¼ v2.1.0 æ•´åˆè‡³ API Serverï¼‰

**è¨ˆè²»ç³»çµ±ï¼š**
- è¨ˆè²»è¨­å®šæ”¹ç‚ºå¯é€é `.env` ç’°å¢ƒè®Šæ•¸èª¿æ•´
- åˆ†æ½¤æ¯”ä¾‹èª¿æ•´ç‚º Author 90% / Platform 10%
- æ–°å¢ `authorEarning` å’Œ `platformEarning` åˆ†åˆ¥è¨˜éŒ„æ”¶ç›Š

**è³‡æ–™çµæ§‹ï¼š**
- æ–°å¢ MongoDB Collectionsï¼š`users`ã€`apiKeys`ã€`transactions`ã€`authorEarnings`ã€`uploadedAgents`ã€`summonLogs`
- `AuthorEarning` æ”¹ç‚ºåˆ†é–‹è¨˜éŒ„ `authorEarning` å’Œ `platformEarning`
- Agent æ–°å¢ `author` æ¬„ä½æ”¯æ´ç”¨æˆ¶ä¸Šå‚³

**æ··åˆ Agent æ¶æ§‹ï¼š**
- æ”¯æ´æœ¬åœ°æª”æ¡ˆï¼ˆ33 å€‹å®˜æ–¹ Agentï¼‰+ MongoDBï¼ˆç”¨æˆ¶ä¸Šå‚³ Agentï¼‰
- å®˜æ–¹ Agent ä¸è¨ˆå…¥åˆ†æ½¤ï¼Œç”¨æˆ¶ä¸Šå‚³ Agent æ¯æ¬¡å¬å–šè¨ˆç®—åˆ†æ½¤

---

**æ–‡ä»¶ä½œè€…ï¼š** å¤è˜¿è””éŠæˆ² Global-soft Games

**æ–‡ä»¶çµæŸ**